{"version":3,"file":"index-BsTyv4RN.js","sources":["../../../../components/form/TheFormCreateUpdateHotel.vue","../../../../components/form/DeleteHotelModal.vue","../../../../pages/hotel/index.vue"],"sourcesContent":["<template>\r\n        <CVModal id_model=\"create-update-Hotel-modal\" @close-modal=\"resetForm\">\r\n            <template #icon>\r\n                <slot name=\"icon\"></slot>\r\n            </template>\r\n            <template #title>\r\n                <span v-if=\"!isEditMode\">\r\n                    <slot name=\"header\">Thêm khách sạn</slot>\r\n                </span>\r\n                <span v-else>\r\n                    <slot name=\"header\">Cập nhật khách sạn</slot>\r\n                </span>\r\n            </template>\r\n            <template #body>\r\n                <Form ref=\"formRef\" @submit=\"handleSubmit\" :key=\"formKey\" >\r\n                    <div class=\"row\">\r\n                    <div class=\"row col-lg-8 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Tên khách sạn\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"hotelName\"\r\n                                    v-model=\"Hotel.hotelName\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true,onlyCharacters:true}\"\r\n                                />\r\n                                <ErrorMessage name=\"hotelName\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row col-lg-4 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Số sao\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"rate\"\r\n                                    v-model=\"Hotel.rate\"\r\n                                    class=\"form-control\"\r\n                                    type=\"number\"\r\n                                :rules=\"{required : true, point : true}\"\r\n                                />\r\n                                <ErrorMessage name=\"rate\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"row col-lg-8 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Link Page\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"linkHotel\"\r\n                                    v-model=\"Hotel.linkHotel\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true}\"\r\n                                />\r\n                                <ErrorMessage name=\"linkHotel\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row col-lg-4 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Chủ sở hữu\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"ceo\"\r\n                                    v-model=\"Hotel.ceo\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true}\"\r\n                                />\r\n                                <ErrorMessage name=\"ceo\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"row col-lg-8 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Địa chỉ\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"address\"\r\n                                    v-model=\"Hotel.address\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true}\"\r\n                                />\r\n                                <ErrorMessage name=\"address\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row col-lg-4 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Hotline\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"hotline\"\r\n                                    v-model=\"Hotel.hotline\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true,phone:true}\"\r\n                                />\r\n                                <ErrorMessage name=\"hotline\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"modal-footer align-content-center justify-content-center\">\r\n                    <button\r\n                        v-if=\"isEditMode\"\r\n                        type=\"submit\"\r\n                        class=\"btn btn-sm btn-primary d-flex align-items-center\"\r\n                        \r\n                    >\r\n                        <svg\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            width=\"0.88em\"\r\n                            height=\"1em\"\r\n                            viewBox=\"0 -70 700 700\"\r\n                        >\r\n                            <path\r\n                                fill=\"#f7f7f7\"\r\n                                d=\"m433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941M224 416c-35.346 0-64-28.654-64-64c0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64m96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48\"\r\n                            />\r\n                        </svg>\r\n                        Lưu\r\n                    </button>\r\n                    <button\r\n                        v-else\r\n                        type=\"submit\"\r\n                        class=\"btn btn-sm btn-primary d-flex align-items-center\"\r\n                        \r\n                    >\r\n                        <svg\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            width=\"10px\"\r\n                            height=\"10px\"\r\n                            viewBox=\"0 -70 700 700\"\r\n                        >\r\n                            <path\r\n                                fill=\"#f7f7f7\"\r\n                                d=\"m433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941M224 416c-35.346 0-64-28.654-64-64c0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64m96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48\"\r\n                            />\r\n                        </svg>\r\n                        Thêm\r\n                    </button>\r\n                    <button \r\n                        id=\"closeModalButton\" \r\n                        type=\"button\" \r\n                        class=\"btn-close\" \r\n                        data-bs-dismiss=\"modal\" \r\n                        hidden>\r\n                    </button>\r\n                </div>\r\n                </Form>\r\n            </template>\r\n        </CVModal>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue';\r\nimport Api from '~/service/Base/api.ts';\r\nimport { Form, Field,ErrorMessage } from 'vee-validate';\r\nimport { useToast } from 'vue-toast-notification';\r\nconst toast = useToast();\r\nconst api = new Api();\r\nconst emits = defineEmits(['Hotel-saved']);\r\nconst formKey=ref(0);\r\nconst formRef = ref(null);\r\n/** received data */\r\nconst props = defineProps({\r\n    editHotel: {\r\n        type: Object,\r\n        default: null,\r\n        required: false,\r\n    },\r\n    isEditMode: {\r\n        type: Boolean,\r\n        default: false,\r\n        required: true,\r\n    },\r\n});\r\n\r\nconst Hotel = ref({\r\n    hotelName: '',\r\n    linkHotel: '',\r\n    rate: '',\r\n    address: '',\r\n    ceo: '',\r\n    hotline: '',\r\n});\r\nconst resetForm = () => {\r\n  // Reset the form fields\r\n  Hotel.value = {\r\n    hotelName: '',\r\n    linkHotel: '',\r\n    rate: '',\r\n    address: '',\r\n    ceo: '',\r\n    hotline: '',\r\n  };\r\n  formKey.value+=1;\r\n};\r\nconst createHotel = () => {\r\n    const formData = new FormData();\r\n    formData.append('hotelName', Hotel.value.hotelName);\r\n    formData.append('linkHotel', Hotel.value.linkHotel);\r\n    formData.append('address', Hotel.value.address);\r\n    formData.append('rate', Hotel.value.rate);\r\n    formData.append('ceo', Hotel.value.ceo);\r\n    formData.append('hotline', Hotel.value.hotline);\r\n    const hotel= api.postAPI('/Hotel', formData)\r\n        .then((res) => {\r\n            if (hotel.status === 200) {\r\n            if (hotel.data && hotel.data.message) {\r\n                // Hiển thị thông báo thành công\r\n                toast.success(hotel.data.message);  // Hiển thị thông báo với toast (thành công)\r\n                }\r\n            }\r\n            emits('Hotel-saved');\r\n            document.getElementById('closeModalButton').click();\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error creating Hotel:', error);\r\n        });\r\n};\r\n\r\nconst updateHotel = () => {\r\n    const data = {\r\n        hotelName: Hotel.value.hotelName,\r\n        linkHotel: Hotel.value.linkHotel,\r\n        rate: Hotel.value.rate,\r\n        address: Hotel.value.address,\r\n        ceo: Hotel.value.ceo,\r\n        hotline: Hotel.value.hotline,\r\n        id: props.editHotel.id,\r\n    };\r\n    api.putAPI(`/Hotel/${props.editHotel.id}`, data)\r\n        .then((res) => {\r\n            emits('Hotel-saved');\r\n            toast.success('Cập nhật thành công')\r\n            document.getElementById('closeModalButton').click();\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error updating Hotel:', error);\r\n        });\r\n};\r\n\r\nconst handleSubmit = () => {\r\n    try{\r\n        if (props.isEditMode) {\r\n         updateHotel();\r\n    } else {\r\n         createHotel();\r\n    }\r\n  } catch (error) {\r\n    console.error('Submit failed:', error);\r\n  }\r\n};\r\n\r\nwatch(\r\n    () => props.editHotel,\r\n    (newVal) => {\r\n        if (newVal) {\r\n            Hotel.value = { ...newVal };\r\n        }\r\n    },\r\n    { immediate: true },\r\n);\r\n</script>\r\n","<template>\r\n    <CVModal id_model=\"deleteHotelModal\">\r\n        <template #icon>\r\n            <slot name=\"icon\"></slot>\r\n        </template>\r\n        <template #title>\r\n            <slot name=\"header\">Xóa khách sạn này</slot>\r\n        </template>\r\n        <template #body>\r\n            <p>Bạn có chắc chắn muốn xóa khách sạn này?</p>\r\n            <div class=\"modal-footer align-content-center justify-content-center\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n                    Hủy bỏ\r\n                </button>\r\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteHotel\">\r\n                    Xóa\r\n                </button>\r\n            </div>\r\n        </template>\r\n    </CVModal>\r\n</template>\r\n<script setup>\r\nimport Api from '~/service/Base/api.ts';\r\nimport { useToast } from 'vue-toast-notification';\r\nconst toast = useToast();\r\nconst props = defineProps({\r\n    HotelId: {\r\n        type: String,\r\n        required: true,\r\n    },\r\n});\r\n\r\nconst api = new Api();\r\nconst emits = defineEmits(['Hotel-deleted', 'hide-modal']);\r\nconst deleteHotel = () => {\r\n    const id = props.HotelId;\r\n    api.deleteById('/Hotel', id)\r\n        .then((res) => {\r\n            emits('Hotel-deleted', id);\r\n            emits('hide-modal');\r\n            $('.btn-close').click();\r\n            toast.success('Xóa thành công')\r\n        })\r\n        .catch((error) => {\r\n            console.error('Lỗi khi xóa hkhách sạn:', error);\r\n        });\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","<template>\r\n    <div class=\"row\">\r\n        <div class=\"p-4\">\r\n            <div class=\"search\">\r\n                <h4 class=\"search-text h5\">Khách sạn</h4>\r\n                <form name=\"search\" @submit.prevent=\"search\">\r\n                    <div class=\"mt-3\">Tìm kiếm:</div>\r\n                    <div class=\"search-text d-flex align-content-center\">\r\n                        <div class=\"col-md-3\">\r\n                            <input\r\n                                class=\"form-control col-md-2\"\r\n                                v-model=\"searchString\"\r\n                                type=\"text\"\r\n                                placeholder=\" Tên khách sạn... \"\r\n                            />\r\n                        </div>\r\n                        <span class=\"button d-flex\">\r\n                            <button\r\n                                class=\"ms-2 btn-sm me-1 btn btn-primary\"\r\n                                type=\"submit\"\r\n                            >\r\n                                <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    width=\"1.5em\"\r\n                                    height=\"1.5em\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                >\r\n                                    <path\r\n                                        fill=\"currentColor\"\r\n                                        d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14\"\r\n                                    />\r\n                                </svg>\r\n                                Tìm kiếm\r\n                            </button>\r\n                            <!-- <button\r\n                                class=\"btn btn-sm btn-outline-primary\"\r\n                                type=\"reset\"\r\n                                @click=\"resetSearchForm()\"\r\n                            >\r\n                                <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    width=\"1.5em\"\r\n                                    height=\"1.5em\"\r\n                                    viewBox=\"0 0 256 256\"\r\n                                >\r\n                                    <path\r\n                                        fill=\"currentColor\"\r\n                                        d=\"M225 80.4L183.6 39a24 24 0 0 0-33.94 0L31 157.66a24 24 0 0 0 0 33.94l30.06 30.06a8 8 0 0 0 5.68 2.34H216a8 8 0 0 0 0-16h-84.7l93.7-93.66a24 24 0 0 0 0-33.94M213.67 103L160 156.69L107.31 104L161 50.34a8 8 0 0 1 11.32 0l41.38 41.38a8 8 0 0 1 0 11.31Z\"\r\n                                    />\r\n                                </svg>\r\n                                Xóa Form\r\n                            </button> -->\r\n                        </span>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"data\">\r\n                <div class=\"btn-handle d-flex justify-content-end mb-3\">\r\n                    <div class=\"handle-create\">\r\n                        <TheFormCreateUpdateHotel\r\n                            :isEditMode=\"isEditMode\"\r\n                            :editHotel=\"editHotelData\"\r\n                            @Hotel-saved=\"getHotels\"\r\n                        />\r\n                        <a\r\n                            @click=\"onCreateMode\"\r\n                            href=\"#\"\r\n                            data-bs-toggle=\"modal\"\r\n                            data-bs-target=\"#create-update-Hotel-modal\"\r\n                        >\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                width=\"2em\"\r\n                                height=\"2em\"\r\n                                viewBox=\"0 0 256 256\"\r\n                            >\r\n                                <path\r\n                                    fill=\"currentColor\"\r\n                                    d=\"M208 32H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16m-24 104h-48v48a8 8 0 0 1-16 0v-48H72a8 8 0 0 1 0-16h48V72a8 8 0 0 1 16 0v48h48a8 8 0 0 1 0 16\"\r\n                                />\r\n                            </svg>\r\n                        </a>\r\n                    </div>\r\n                    <!-- <div class=\"reload\">\r\n                        <a class=\"text-info\" href=\"#\" @click=\"getHotels()\">\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                width=\"2em\"\r\n                                height=\"2em\"\r\n                                viewBox=\"0 0 512 512\"\r\n                            >\r\n                                <path\r\n                                    fill=\"currentColor\"\r\n                                    d=\"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48m120 190.77h-89l36.88-36.88l-5.6-6.51a87.38 87.38 0 1 0-62.94 148a87.55 87.55 0 0 0 82.42-58.25l5.37-15.13l30.17 10.67l-5.3 15.13a119.4 119.4 0 1 1-112.62-159.18a118.34 118.34 0 0 1 86.36 36.95l.56.62l4.31 5L376 149.81Z\"\r\n                                />\r\n                            </svg>\r\n                        </a>\r\n                    </div> -->\r\n                </div>\r\n                <table\r\n                    class=\"table text-center table-hover table-success table-striped-columns\"\r\n                >\r\n                    <thead class=\"table-primary table-active\">\r\n                        <tr>\r\n                            <th scope=\"col\">No.</th>\r\n                            <th>Khách sạn</th>\r\n                            <th>Địa chỉ</th>\r\n                            <th>Hotline</th>\r\n                            <th>Chủ sở hữu</th>\r\n                            <th>Số sao</th>\r\n                            <th scope=\"col\">Tác vụ</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"(Hotel, index) in Hotels\" :key=\"index\">\r\n                            <td>{{ ++index }}</td>\r\n\r\n                            <td class=\"text-decoration-none\">\r\n                                <a :href=\"Hotel.linkHotel\">{{ Hotel.hotelName }}</a>\r\n                            </td>\r\n                            <td>\r\n                                {{ Hotel.address }}\r\n                            </td>\r\n                            <td>\r\n                                {{ Hotel.hotline }}\r\n                            </td>\r\n                            <td>\r\n                                {{ Hotel.ceo }}\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"d-flex flex-row justify-content-center\">\r\n                                    <div class=\"pb-2\">{{ Hotel.rate }}</div>\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        viewBox=\"0 0 576 512\"\r\n                                        width=\"18\"\r\n                                        height=\"18\"\r\n                                        fill=\"yellow\"\r\n                                        class=\"ms-1\"\r\n                                    >\r\n                                        <path\r\n                                            d=\"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z\"\r\n                                        />\r\n                                    </svg>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div\r\n                                    class=\"d-flex justify-content-center align-content-center align-items-center\"\r\n                                >\r\n                                    <NuxtLink\r\n                                        class=\"link link-primary text-decoration-none mx-1\"\r\n                                        data-bs-toggle=\"modal\"\r\n                                        data-bs-target=\"#create-update-Hotel-modal\"\r\n                                        @click=\"HotelEdit(Hotel)\"\r\n                                        style=\"cursor: pointer\"\r\n                                    >\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            width=\"1em\"\r\n                                            height=\"1em\"\r\n                                            viewBox=\"0 0 24 24\"\r\n                                        >\r\n                                            <path\r\n                                                fill=\"currentColor\"\r\n                                                d=\"M5 18.08V19h.92l9.06-9.06l-.92-.92z\"\r\n                                                opacity=\"0.3\"\r\n                                            />\r\n                                            <path\r\n                                                fill=\"currentColor\"\r\n                                                d=\"M20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83l3.75 3.75zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06l.92.92z\"\r\n                                            />\r\n                                        </svg>\r\n                                    </NuxtLink>\r\n                                    <NuxtLink\r\n                                        v-if=\"role == 'Admin'\"\r\n                                        class=\"link link-danger text-decoration-none mx-1\"\r\n                                        style=\"cursor: pointer\"\r\n                                        @click=\"deleteHotel(Hotel.id)\"\r\n                                        data-bs-toggle=\"modal\"\r\n                                        data-bs-target=\"#deleteHotelModal\"\r\n                                    >\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            width=\"1em\"\r\n                                            height=\"1em\"\r\n                                            viewBox=\"0 0 48 48\"\r\n                                        >\r\n                                            <path\r\n                                                fill=\"currentColor\"\r\n                                                d=\"M20 10.5v.5h8v-.5a4 4 0 0 0-8 0m-2.5.5v-.5a6.5 6.5 0 1 1 13 0v.5h11.25a1.25 1.25 0 1 1 0 2.5h-2.917l-2 23.856A7.25 7.25 0 0 1 29.608 44H18.392a7.25 7.25 0 0 1-7.224-6.644l-2-23.856H6.25a1.25 1.25 0 1 1 0-2.5zm4 9.25a1.25 1.25 0 1 0-2.5 0v14.5a1.25 1.25 0 1 0 2.5 0zM27.75 19c-.69 0-1.25.56-1.25 1.25v14.5a1.25 1.25 0 1 0 2.5 0v-14.5c0-.69-.56-1.25-1.25-1.25\"\r\n                                            />\r\n                                        </svg>\r\n                                    </NuxtLink>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <DeleteHotelModal\r\n                    :HotelId=\"selectedHotelId\"\r\n                    @Hotel-deleted=\"getHotels\"\r\n                    @hide-modal=\"getHotels()\"\r\n                />\r\n                <!-- <div class=\"d-flex justify-content-between\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <span class=\"me-5\">Tổng số: {{ totalCount }} khách sạn</span>\r\n                        <span>\r\n                            <Pagination\r\n                                :current-page=\"pageNumber\"\r\n                                :total-pages=\"totalPage\"\r\n                                :next-page=\"nextPage\"\r\n                                :previous-page=\"previousPage\"\r\n                                :set-page=\"setPage\"\r\n                            />\r\n                        </span>\r\n                    </div>\r\n                    <div></div>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script setup>\r\nimport { ref,onMounted } from 'vue';\r\nimport DeleteHotelModal from '~/components/form/DeleteHotelModal.vue';\r\nimport Api from '~/service/Base/api.ts';\r\nconst api = new Api();\r\nconst Hotels = ref([]);\r\nconst selectedHotelId = ref(null);\r\nconst editHotelData = ref({});\r\nconst isEditMode = ref(false);\r\nconst searchString = ref('');\r\nconst pageNumber = ref(1);\r\nconst totalPage = ref(0);\r\nconst totalCount = ref(0);\r\nconst pageSize = ref(10);\r\nconst role = ref('');\r\n/**\r\n * auth\r\n */\r\n definePageMeta({\r\n    middleware: ['auth','admin'],\r\n});\r\nif (process.client) {\r\n    role.value = localStorage.getItem('role');\r\n}\r\n/**\r\n * get all Hotels\r\n */\r\n// const getHotels = async () => {\r\n//     try {\r\n//         var response = await api.get(\r\n//             `/Hotel/GetAllPagination?PageSize=${pageSize.value}&PageNumber=${pageNumber.value}`,\r\n//         );\r\n//         console.log(response);\r\n//         Hotels.value = response.data.responseData.data;\r\n//         totalCount.value = response.data.responseData.pagination.totalCount;\r\n//         totalPage.value = response.data.responseData.pagination.totalPage;\r\n//     } catch (err) {\r\n//         console.log(err);\r\n//     }\r\n// };\r\nconst getHotels = async () => {\r\n    try {\r\n        var response = await api.get(\r\n            `/Hotel`,null,\r\n        );\r\n        Hotels.value = response.data.responseData;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * delete Hotel\r\n * @param {*} id\r\n */\r\nconst deleteHotel = async (id) => {\r\n    try {\r\n        selectedHotelId.value = id;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n/**\r\n * edit Hotel\r\n * @param {*} Hotel\r\n */\r\nconst HotelEdit = async (Hotels) => {\r\n    try {\r\n        editHotelData.value = {\r\n            hotelName: Hotels.hotelName,\r\n            linkHotel: Hotels.linkHotel,\r\n            rate: Hotels.rate,\r\n            address: Hotels.address,\r\n            ceo: Hotels.ceo,\r\n            hotline: Hotels.hotline,\r\n            id: Hotels.id,\r\n        };\r\n        isEditMode.value = true;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n/**\r\n * send value to modal in create mode\r\n */\r\nconst onCreateMode = async () => {\r\n    try {\r\n        isEditMode.value = false;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n/**\r\n * reset form search\r\n */\r\nconst resetSearchForm = async () => {\r\n    try {\r\n        searchString.value = '';\r\n        getHotels();\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n/**\r\n * search\r\n */\r\nconst search = async () => {\r\n    try {\r\n        if (!searchString.value) {\r\n            getHotels();\r\n            return;\r\n        } else {\r\n            const res = await api.get(`/Hotel/search/${searchString.value}`, null);\r\n            Hotels.value = res.data.responseData;\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n/**\r\n * call\r\n */\r\nonMounted(async () => {\r\n    await getHotels();\r\n})\r\n/**\r\n * Pagination\r\n */\r\nconst nextPage = () => {\r\n    pageNumber.value++;\r\n    getHotels();\r\n};\r\nconst previousPage = () => {\r\n    pageNumber.value--;\r\n    getHotels();\r\n};\r\nconst setPage = (number) => {\r\n    pageNumber.value = number;\r\n    getHotels();\r\n};\r\n</script>\r\n"],"names":["Hotels"],"mappings":"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"}