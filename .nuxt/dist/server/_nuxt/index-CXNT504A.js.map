{"version":3,"file":"index-CXNT504A.js","sources":["../../../../components/form/TheFormCreateUpdateBooking.vue","../../../../components/form/DeleteBookingModal.vue","../../../../pages/booking/index.vue"],"sourcesContent":["<template>\r\n    <CVModal id_model=\"create-update-Booking-modal\"\r\n        @close-modal=\"resetForm\"  <!-- Lắng nghe sự kiện đóng modal và gọi resetForm -->\r\n        >\r\n            <template #icon>\r\n                <slot name=\"icon\"></slot>\r\n            </template>\r\n            <template #title>\r\n                <span v-if=\"!isEditMode\">\r\n                    <slot name=\"header\">Thêm Booking du lịch </slot>\r\n                </span>\r\n                <span v-else>\r\n                    <slot name=\"header\">\r\n                        <div>\r\n                            <span>Cập nhật Booking du lịch</span> <button type=\"button\" class=\"btn btn-success ms-5\" @click=\"showCustmomer\">Cập nhật khách hàng</button>\r\n                        </div>\r\n                    </slot>\r\n                    \r\n                </span>\r\n            </template>\r\n            <template #body>\r\n                <Form ref=\"form\" @submit=\"handleSubmit\">\r\n                    <div class=\"row\">\r\n                    <div class=\"bg-light row m-0 p-2 mb-3\" v-if =\"showKH\" >\r\n                        <div class=\"row col-lg-6 mb-3 form-group required\">\r\n                            <div class=\"row mb-3 form-group required\">\r\n                                <label\r\n                                    for=\"source-name\"\r\n                                    class=\"col-sm-4 col-form-label control-label text-end\"\r\n                                >\r\n                                    Tên khách hàng\r\n                                </label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <Field\r\n                                        name=\"nameCustomer\"\r\n                                        v-model=\"Booking.nameCustomer\"\r\n                                        type=\"text\"\r\n                                        class=\"form-control\"\r\n                                        :rules=\"{required:true,onlyCharacters :true}\"\r\n                                    />\r\n\r\n                                    <ErrorMessage name=\"nameCustomer\" class=\"text-danger\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mb-3 form-group required\">\r\n                                <label\r\n                                    for=\"source-name\"\r\n                                    class=\"col-sm-4 col-form-label control-label text-end\"\r\n                                >\r\n                                    Số điện thoại\r\n                                </label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <Field\r\n                                        name=\"phoneNumber\"\r\n                                        v-model=\"Booking.phoneNumber\"\r\n                                        type=\"text\"\r\n                                        class=\"form-control\"\r\n                                        :rules=\"{required : true, phone:true}\"\r\n                                    />\r\n                                    <ErrorMessage name=\"phoneNumber\" class=\"text-danger\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mb-3 form-group required\">\r\n                                <label\r\n                                    for=\"source-name\"\r\n                                    class=\"col-sm-4 col-form-label control-label text-end\"\r\n                                >\r\n                                    Địa chỉ\r\n                                </label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <Field\r\n                                        name=\"address\"\r\n                                        v-model=\"Booking.address\"\r\n                                        type=\"text\"\r\n                                        class=\"form-control\"\r\n                                        :rules=\"{required : true}\"\r\n                                    />\r\n                                    <ErrorMessage name=\"address\" class=\"text-danger\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row mb-3 form-group required\">\r\n                                <label\r\n                                    for=\"source-name\"\r\n                                    class=\"col-sm-4 col-form-label control-label text-end\"\r\n                                >\r\n                                    Giới tính\r\n                                </label>\r\n                                <div class=\"col-sm-8\">\r\n                                    <select v-model=\"Booking.gender\" class=\"form-control\">\r\n                                        <option v-for=\"gender in Gender\" :key=\"gender\" :value=\"gender\">\r\n                                            {{ gender ? 'Nam' : 'Nữ' }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    <div class=\"row col-lg-6 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                CCCD\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"identityCard\"\r\n                                    v-model=\"Booking.identityCard\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true}\"\r\n                                />\r\n                                <ErrorMessage name=\"identityCard\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Email\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"email\"\r\n                                    v-model=\"Booking.email\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{email: true}\"\r\n                                />\r\n                                <ErrorMessage name=\"email\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Ngân hàng\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"bankName\"\r\n                                    v-model=\"Booking.bankName\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true}\"\r\n                                />\r\n                                <ErrorMessage name=\"bankName\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Số tài khoản\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"accountBank\"\r\n                                    v-model=\"Booking.accountBank\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :rules=\"{required : true}\"\r\n                                />\r\n                                <ErrorMessage name=\"accountBank\" class=\"text-danger\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                    <div class=\"row col-lg-6 mb-3 form-group required\">\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Mã tour\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"tourId\"\r\n                                    v-model=\"Booking.tourId\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    disabled\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Mã khách hàng\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    id=\"customerId\"\r\n                                    name=\"customerId\"\r\n                                    v-model=\"Booking.customerId\"\r\n                                    class=\"form-control\"\r\n                                    type=\"text\"\r\n                                    disabled\r\n                                />\r\n                                <br />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Vé người lớn\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"adult\"\r\n                                    v-model=\"Booking.adult\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    disabled\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                                >Tổng tiền\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    id=\"totalBill\"\r\n                                    name=\"totalBill\"\r\n                                    v-model=\"Booking.totalBill\"\r\n                                    class=\"form-control\"\r\n                                    type=\"text\"\r\n                                    disabled\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Đã thanh toán\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"paymented\"\r\n                                    v-model=\"Booking.paymented\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    :disabled=\"isDisabled(Booking.statusBill)\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row col-lg-6\">\r\n                        <!-- <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Phương thức thanh toán\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"paymentBy\"\r\n                                    v-model=\"Booking.paymentBy\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    disabled\r\n                                />\r\n                            </div>\r\n                        </div> -->\r\n\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Vé trẻ em\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    name=\"child\"\r\n                                    v-model=\"Booking.child\"\r\n                                    type=\"text\"\r\n                                    class=\"form-control\"\r\n                                    disabled\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row mb-3 form-group required\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-4 col-form-label control-label text-end\"\r\n                            >\r\n                                Trạng thái đơn\r\n                            </label>\r\n                            <div class=\"col-sm-8\">\r\n                                <Field\r\n                                    as=\"select\"\r\n                                    id=\"statusBill\"\r\n                                    name=\"statusBill\"\r\n                                    v-model=\"Booking.statusBill\"\r\n                                    class=\"form-control\"\r\n                                >\r\n                                    <option\r\n                                        v-for=\"item in statusBill\"\r\n                                        class=\"text-dark\"\r\n                                        :value=\"item.value\"\r\n                                    >\r\n                                        {{ item.value }}\r\n                                    </option>\r\n                                </Field>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row form-group required mb-3\">\r\n                            <label\r\n                                for=\"source-name\"\r\n                                class=\"col-sm-3 col-form-label control-label text-end\"\r\n                                >Danh sách khách hàng\r\n                            </label>\r\n                            <div class=\"col-sm-9\">\r\n                                <TipTap v-model=\"Booking.customerInTours\"></TipTap>\r\n                                <span v-if=\"errorCustomerInTours\" class=\"text-danger\">\r\n                                    {{ errorCustomerInTours }}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer align-content-center justify-content-center\">\r\n                    <button\r\n                        v-if=\"isEditMode\"\r\n                        type=\"submit\"\r\n                        class=\"btn btn-sm btn-primary d-flex align-items-center\"\r\n                    >\r\n                        Lưu\r\n                    </button>\r\n                    <button\r\n                        v-else\r\n                        type=\"submit\"\r\n                        class=\"btn btn-sm btn-primary d-flex align-items-center\"\r\n                    >\r\n                        Thêm\r\n                    </button>\r\n                    <button \r\n                        id=\"closeModalButton\" \r\n                        type=\"button\" \r\n                        class=\"btn-close\" \r\n                        data-bs-dismiss=\"modal\" \r\n                        hidden>\r\n                    </button>\r\n                </div>\r\n            </Form>\r\n        </template>   \r\n    </CVModal>\r\n</template>\r\n<script setup>\r\nimport { ref, watch, onMounted } from 'vue';\r\nimport Api from '~/service/Base/api.ts';\r\nimport { Form, Field, ErrorMessage } from 'vee-validate';\r\nimport Tour_constants from '~/assets/js/constants/constants';\r\nimport { useToast } from 'vue-toast-notification';\r\nconst toast = useToast();\r\nconst api = new Api();\r\nconst form = ref(null);\r\nconst emits = defineEmits(['Booking-saved']);\r\nconst meetingPoint = ref({});\r\nconst showKH = ref(false);\r\n\r\n/** received data */\r\nconst props = defineProps({\r\n    editBooking: {\r\n        type: Object,\r\n        default: null,\r\n        required: false,\r\n    },\r\n    isEditMode: {\r\n        type: Boolean,\r\n        default: false,\r\n        required: true,\r\n    },\r\n});\r\nconst statusBill = [\r\n    { id: 1, value: 'Đã thanh toán' },\r\n    { id: 2, value: 'Đã đặt cọc' },\r\n    { id: 3, value: 'Hủy' },\r\n    { id: 4, value: 'Chờ xử lý' },\r\n    { id: 5, value:'Khách hàng hủy'},\r\n];\r\n\r\nconst defaultBooking = {\r\n    tourId: '',\r\n    customerId: '',\r\n    totalBill: '',\r\n    paymented: '',\r\n    paymentBy: '',\r\n    child: '',\r\n    adult: '',\r\n    statusBill: 'Chờ xử lý',\r\n    customerInTours: '',\r\n    id: '',\r\n    nameCustomer: '',\r\n    phoneNumber: '',\r\n    identityCard: '',\r\n    address: '',\r\n    email: '',\r\n    accountBank: '',\r\n    gender: true,\r\n    bankName: '',\r\n    idCustomer: '',\r\n};\r\n\r\nconst Booking = ref({ ...defaultBooking }); // Khởi tạo giá trị mặc định cho Booking\r\n\r\nconst resetForm = () => {\r\n    // Reset giá trị của Booking bằng cách gán lại giá trị mặc định\r\n    Booking.value = { ...defaultBooking };\r\n    errorCustomerInTours.value = \"\";\r\n};\r\nconst Gender = [true, false];  // Thay đổi thành các giá trị boolean\r\n// const Gender = ['true', 'false'];\r\nconst showCustmomer = () => {\r\n    showKH.value = !showKH.value;\r\n};\r\nconst updateBooking = async () => {\r\n    if (Booking.value.paymented > Booking.value.totalBill) {\r\n    // Nếu số tiền thanh toán vượt quá tổng tiền, hiển thị cảnh báo\r\n    alert('Số tiền thanh toán không được vượt quá tổng tiền.');\r\n    Booking.value.paymented = Booking.value.totalBill;  // Đặt lại giá trị của paymented về totalBill\r\n    return;\r\n    } \r\n    const data = {\r\n        tourId: Booking.value.tourId,\r\n        customerId: Booking.value.customerId,\r\n        totalBill: Booking.value.totalBill,\r\n        paymented: Booking.value.paymented,\r\n        paymentBy: Booking.value.paymentBy,\r\n        paymentTime: props.editBooking.paymentTime,\r\n        isLocal: Booking.value.isLocal,\r\n        adult: Booking.value.adult,\r\n        statusBill: Booking.value.statusBill,\r\n        customerInTours: Booking.value.customerInTours,\r\n        createDate: props.editBooking.createDate,\r\n        updateDate: new Date(),\r\n        id: props.editBooking.id,\r\n    };\r\n    const dataCustomer = {\r\n        nameCustomer: Booking.value.nameCustomer,\r\n        phoneNumber: Booking.value.phoneNumber,\r\n        identityCard: Booking.value.identityCard,\r\n        address: Booking.value.address,\r\n        email: Booking.value.email,\r\n        accountBank:Booking.value.accountBank,\r\n        gender: Booking.value.gender,\r\n        bankName: Booking.value.bankName,\r\n        id : props.editBooking.customerId,\r\n    }\r\n    try {\r\n        if(showKH.value == true)\r\n        {\r\n           await api.putAPI(`/Customer/${props.editBooking.customerId}`,dataCustomer);\r\n        }\r\n        const booking=await api.putAPI(`/Booking/${props.editBooking.id}`, data);\r\n        if (booking.status === 200) {\r\n            if (booking.data && booking.data.message) {\r\n                // Hiển thị thông báo thành công\r\n                toast.success(booking.data.message);  // Hiển thị thông báo với toast (thành công)\r\n            }\r\n        }\r\n        emits('Booking-saved');\r\n        const formData = new FormData();\r\n        formData.append('to', Booking.value.email);\r\n        formData.append('status', data.statusBill);\r\n        const mail=await api.postAPI(`/Booking/TestSendMailByStatus?id=${props.editBooking.id}`,formData,);\r\n        if (mail.status === 200) {\r\n            if (mail.data && mail.data.message) {\r\n                // Hiển thị thông báo thành công\r\n                        toast.success(mail.data.message);  // Hiển thị thông báo với toast (thành công)\r\n            }\r\n        }\r\n        document.getElementById('closeModalButton').click();\r\n    } catch (error) {\r\n        console.error('Error updating Booking:', error);\r\n    }\r\n};\r\nconst errorCustomerInTours = ref(''); // Biến để lưu lỗi của TipTap\r\nconst handleSubmit = () => {\r\n    const tempDiv = document.createElement(\"div\");\r\n    tempDiv.innerHTML = Booking.value.customerInTours; // Gán nội dung TipTap vào div tạm\r\n    const textContent = tempDiv.textContent.trim(); // Lấy nội dung text\r\n\r\n    if (!textContent) {\r\n        errorCustomerInTours.value = \"Thông tin này không được để trống!\";\r\n        return;\r\n    } else {\r\n        errorCustomerInTours.value = \"\"; // Xóa lỗi nếu hợp lệ\r\n    }\r\n    if (props.isEditMode) {\r\n        updateBooking();\r\n    } else {\r\n        createBooking();\r\n    }\r\n};\r\nconst isDisabled=(status) => {\r\n            return status === Tour_constants.Cancel ||\r\n                   status === Tour_constants.Paid ||\r\n                   status===Tour_constants.Deposited||\r\n                   status===Tour_constants.success||\r\n                //    status===Tour_constants.Customercancel||\r\n                   status === Tour_constants.Pending;\r\n        }\r\nwatch(\r\n    () => props.editBooking,\r\n    (newVal) => {\r\n        if (newVal) {\r\n            Booking.value = { ...newVal };\r\n            if (form.value) {\r\n                form.value.resetForm({\r\n                    values: { ...Booking.value }, // Cập nhật giá trị mới cho form\r\n                    errors: {},                    // Đặt lại tất cả lỗi\r\n                });\r\n            }\r\n        }\r\n    },\r\n    { immediate: true },\r\n);\r\nwatch(\r\n    () => Booking.value.statusBill,\r\n    (newStatus) => {\r\n        if (newStatus === 'Đã thanh toán') {  // Khi chọn \"Đã thanh toán\"\r\n            Booking.value.paymented = Booking.value.totalBill;  // Gán paymented = totalBill\r\n        } else if (newStatus === 'Đã đặt cọc' || newStatus === 'Hủy') {  // Khi chọn \"Đặt cọc\" hoặc \"Hủy\"\r\n            Booking.value.paymented = 100000;  // Gán paymented = 100000\r\n        } else if (newStatus === 'Chờ xử lý') {  // Khi chọn \"Chờ xử lý\"\r\n            Booking.value.paymented = 0;  // Gán paymented = 0\r\n        }\r\n    },\r\n    { immediate: true }\r\n);\r\n</script>\r\n","<template>\r\n    <CVModal id_model=\"deleteBookingModal\">\r\n        <template #icon>\r\n            <slot name=\"icon\"></slot>\r\n        </template>\r\n        <template #title>\r\n            <slot name=\"header\">Xóa đơn đặtnày</slot>\r\n        </template>\r\n        <template #body>\r\n            <p>Bạn có chắc chắn muốn xóa đơn đặtnày?</p>\r\n            <div class=\"modal-footer align-content-center justify-content-center\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n                    Hủy bỏ\r\n                </button>\r\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteBooking\">\r\n                    Xóa\r\n                </button>\r\n            </div>\r\n        </template>\r\n    </CVModal>\r\n</template>\r\n<script setup>\r\nimport Api from '~/service/Base/api.ts';\r\nimport { useToast } from 'vue-toast-notification';\r\nconst toast = useToast();\r\nconst props = defineProps({\r\n    BookingId: {\r\n        type: String,\r\n        required: true,\r\n    },\r\n});\r\nconst api = new Api();\r\nconst emits = defineEmits(['Booking-deleted', 'hide-modal']);\r\nconst deleteBooking = () => {\r\n    const id = props.BookingId;\r\n    api.deleteById('/Booking', id)\r\n        .then((res) => {\r\n            emits('Booking-deleted', id);\r\n            emits('hide-modal');\r\n            $('.btn-close').click();\r\n            toast.success('Xóa thành công')\r\n        })\r\n        .catch((error) => {\r\n            console.error('Lỗi khi xóa đơn đặt:', error);\r\n        });\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","<template>\r\n    <div class=\"row\">\r\n        <div class=\"p-4\">\r\n            <div class=\"search\">\r\n                <h4 class=\"search-text h5\">Đơn đặt tour</h4>\r\n                <form name=\"search\" @submit.prevent=\"search\">\r\n                    <div class=\"mt-3\">Tìm kiếm:</div>\r\n                    <div class=\"search-text d-flex align-content-center\">\r\n                        <div class=\"col-md-3\">\r\n                            <input\r\n                                class=\"form-control col-md-2\"\r\n                                v-model=\"searchString\"\r\n                                type=\"text\"\r\n                                placeholder=\" Mã đơn đặt... \"\r\n                            />\r\n                        </div>\r\n                        <span class=\"button d-flex\">\r\n                            <button\r\n                                class=\"ms-2 btn-sm me-1 btn btn-primary\"\r\n                                type=\"submit\"\r\n                            >\r\n                                <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    width=\"1.5em\"\r\n                                    height=\"1.5em\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                >\r\n                                    <path\r\n                                        fill=\"currentColor\"\r\n                                        d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14\"\r\n                                    />\r\n                                </svg>\r\n                                Tìm kiếm\r\n                            </button>\r\n                            <!-- <button\r\n                                class=\"btn btn-sm btn-outline-primary\"\r\n                                type=\"reset\"\r\n                                @click=\"resetSearchForm()\"\r\n                            >\r\n                                <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    width=\"1.5em\"\r\n                                    height=\"1.5em\"\r\n                                    viewBox=\"0 0 256 256\"\r\n                                >\r\n                                    <path\r\n                                        fill=\"currentColor\"\r\n                                        d=\"M225 80.4L183.6 39a24 24 0 0 0-33.94 0L31 157.66a24 24 0 0 0 0 33.94l30.06 30.06a8 8 0 0 0 5.68 2.34H216a8 8 0 0 0 0-16h-84.7l93.7-93.66a24 24 0 0 0 0-33.94M213.67 103L160 156.69L107.31 104L161 50.34a8 8 0 0 1 11.32 0l41.38 41.38a8 8 0 0 1 0 11.31Z\"\r\n                                    />\r\n                                </svg>\r\n                                Xóa Form\r\n                            </button> -->\r\n                        </span>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"data\">\r\n                <div class=\"btn-handle d-flex justify-content-end mb-3\">\r\n                    <TheFormCreateUpdateBooking\r\n                        :isEditMode=\"isEditMode\"\r\n                        :editBooking=\"editBookingData\"\r\n                        @Booking-saved=\"getInfor\"\r\n                    />\r\n                   \r\n                    <!-- <div class=\"reload\">\r\n                        <a class=\"text-info\" href=\"#\" @click=\"getBookings()\">\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                width=\"20\"\r\n                                height=\"20\"\r\n                                viewBox=\"0 0 512 512\"\r\n                            >\r\n                                <path\r\n                                    fill=\"currentColor\"\r\n                                    d=\"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48m120 190.77h-89l36.88-36.88l-5.6-6.51a87.38 87.38 0 1 0-62.94 148a87.55 87.55 0 0 0 82.42-58.25l5.37-15.13l30.17 10.67l-5.3 15.13a119.4 119.4 0 1 1-112.62-159.18a118.34 118.34 0 0 1 86.36 36.95l.56.62l4.31 5L376 149.81Z\"\r\n                                />\r\n                            </svg>\r\n                        </a>\r\n                    </div> -->\r\n                </div>\r\n                <table\r\n                    :key=\"Bookings.length\" class=\"table text-center table-hover table-success table-striped-columns\"\r\n                >\r\n                    <thead class=\"table-primary table-active\">\r\n                        <tr>\r\n                            <th scope=\"col\">No.</th>\r\n                            <th colspan=\"2\">Thông tin khách hàng </th>\r\n                            <th colspan=\"2\">Thông tin tour</th>\r\n                            <th colspan=\"2\">Thông tin thanh toán</th>\r\n                            <th colspan=\"2\">Trạng thái đơn đặt</th>\r\n                            <th scope=\"col\">Tác vụ</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"(Booking, index) in Bookings\" :key=\"index\">\r\n                            <td class=\"p-4\">{{ ++index }}</td>\r\n                            <td colspan=\"2\" class=\"p-4\">\r\n                                    <span v-for=\"item in Customer\">\r\n                                        <span v-if=\"item.id == Booking.customerId\">\r\n                                        {{ item.nameCustomer }}<br />\r\n                                        <a\r\n                                            class=\"phone-link\"\r\n                                            :href=\"`tel://${item.phoneNumber}`\"\r\n                                        >\r\n                                            {{ item.phoneNumber }}</a\r\n                                        ><br />\r\n                                        {{ item.email }}\r\n                                    </span>\r\n                                    </span>\r\n                            </td>\r\n                            <td colspan=\"2\" class=\"p-4 w-25\">\r\n                                <span v-for=\"item in Tour\">\r\n                                    <span v-if=\"item.id == Booking.tourId\">\r\n                                        {{ item.nameTour }}<br />\r\n                                        <span class=\"text-danger\">\r\n                                            {{\r\n                                                formatCurrency(item.priceSale)\r\n                                            }}</span\r\n                                        >\r\n                                    </span>\r\n                                </span>\r\n                            </td>\r\n                            <td colspan=\"2\" class=\"p-4 w-25\">\r\n                                <span>Vé người lớn : {{ Booking.adult }}</span> <br />\r\n                                <span v-if=\"Booking.child > 0\">\r\n                                    Vé trẻ em : {{ Booking.child }}</span\r\n                                ><br />\r\n                                <span>\r\n                                    Thành tiền :\r\n                                    {{\r\n                                        formatCurrency(Booking.totalBill)\r\n                                    }}</span\r\n                                >\r\n                                <br />\r\n                                <span v-if=\"Booking.paymentBy == Tour_constants.Banking\">\r\n                                    Hình thức :\r\n                                    <i class=\"fa-solid fa-money-check-dollar\"></i\r\n                                ></span>\r\n                                <span v-if=\"Booking.paymentBy == Tour_constants.Cash\">\r\n                                    Hình thức : <i class=\"fa-solid fa-money-bills\"></i>\r\n                                </span>\r\n                            </td>\r\n                            <td colspan=\"2\" class=\"p-4 w-25\">\r\n                                <span>\r\n                                    Đã thanh toán :\r\n                                    {{\r\n                                        formatCurrency(Booking.paymented)\r\n                                    }}\r\n                                </span>\r\n                                <br />\r\n                                <span> Trạng thái : {{ Booking.statusBill }}</span>\r\n                                <br />\r\n                                <button\r\n                                    v-if=\"Booking.statusBill === Tour_constants.Paid\"\r\n                                    class=\"btn btn-success btn-sm mt-2\"\r\n                                >\r\n                                    Success\r\n                                </button>\r\n                                <button\r\n                                    v-else-if=\"\r\n                                        Booking.statusBill === Tour_constants.Customercancel\r\n                                    \"\r\n                                    class=\"btn btn-danger btn-sm mt-2\"\r\n                                >\r\n                                    Customercancel\r\n                                </button>\r\n                                <button\r\n                                    v-else-if=\"\r\n                                        Booking.statusBill === Tour_constants.Deposited\r\n                                    \"\r\n                                    class=\"btn btn-warning btn-sm mt-2\"\r\n                                >\r\n                                    Deposited\r\n                                </button>\r\n                                <button\r\n                                    v-else-if=\"\r\n                                        Booking.statusBill === Tour_constants.Cancel\r\n                                    \"\r\n                                    class=\"btn btn-danger btn-sm mt-2\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    v-else-if=\"\r\n                                        Booking.statusBill === Tour_constants.Pending\r\n                                    \"\r\n                                    class=\"btn btn-secondary btn-sm mt-2\"\r\n                                >\r\n                                    Pending\r\n                                </button>\r\n                            </td>\r\n\r\n                            <td class=\"p-4\">\r\n                                <div\r\n                                    class=\"d-flex justify-content-center align-content-center align-items-center\"\r\n                                >\r\n                                    <NuxtLink\r\n                                        class=\"link link-primary text-decoration-none mx-1\"\r\n                                        data-bs-toggle=\"modal\"\r\n                                        data-bs-target=\"#create-update-Booking-modal\"\r\n                                        @click=\"BookingEdit(Booking)\"\r\n                                        style=\"cursor: pointer\"\r\n                                    >\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            width=\"1em\"\r\n                                            height=\"1em\"\r\n                                            viewBox=\"0 0 24 24\"\r\n                                        >\r\n                                            <path\r\n                                                fill=\"currentColor\"\r\n                                                d=\"M5 18.08V19h.92l9.06-9.06l-.92-.92z\"\r\n                                                opacity=\"0.3\"\r\n                                            />\r\n                                            <path\r\n                                                fill=\"currentColor\"\r\n                                                d=\"M20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83l3.75 3.75zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06l.92.92z\"\r\n                                            />\r\n                                        </svg>\r\n                                    </NuxtLink>\r\n                                    <NuxtLink\r\n                                        class=\"link link-danger text-decoration-none mx-1\"\r\n                                        style=\"cursor: pointer\"\r\n                                        @click=\"deleteBooking(Booking.id)\"\r\n                                        data-bs-toggle=\"modal\"\r\n                                        data-bs-target=\"#deleteBookingModal\"\r\n                                    >\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            width=\"1em\"\r\n                                            height=\"1em\"\r\n                                            viewBox=\"0 0 48 48\"\r\n                                        >\r\n                                            <path\r\n                                                fill=\"currentColor\"\r\n                                                d=\"M20 10.5v.5h8v-.5a4 4 0 0 0-8 0m-2.5.5v-.5a6.5 6.5 0 1 1 13 0v.5h11.25a1.25 1.25 0 1 1 0 2.5h-2.917l-2 23.856A7.25 7.25 0 0 1 29.608 44H18.392a7.25 7.25 0 0 1-7.224-6.644l-2-23.856H6.25a1.25 1.25 0 1 1 0-2.5zm4 9.25a1.25 1.25 0 1 0-2.5 0v14.5a1.25 1.25 0 1 0 2.5 0zM27.75 19c-.69 0-1.25.56-1.25 1.25v14.5a1.25 1.25 0 1 0 2.5 0v-14.5c0-.69-.56-1.25-1.25-1.25\"\r\n                                            />\r\n                                        </svg>\r\n                                    </NuxtLink>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <DeleteBookingModal\r\n                    :BookingId=\"selectedBookingId\"\r\n                    @Booking-deleted=\"getBookings\"\r\n                    @hide-modal=\"getBookings\"\r\n                />\r\n                <!-- <div class=\"d-flex justify-content-between\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <span class=\"me-5\">Tổng số: {{ totalCount }} đơn đặt</span>\r\n                        <span>\r\n                            <Pagination\r\n                                :current-page=\"pageNumber\"\r\n                                :total-pages=\"totalPage\"\r\n                                :next-page=\"nextPage\"\r\n                                :previous-page=\"previousPage\"\r\n                                :set-page=\"setPage\"\r\n                            />\r\n                        </span>\r\n                    </div>\r\n                    <div></div>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script setup>\r\nimport { ref,onMounted } from 'vue';\r\nimport DeleteBookingModal from '~/components/form/DeleteBookingModal.vue';\r\nimport Api from '~/service/Base/api.ts';\r\nimport Tour_constants from '~/assets/js/constants/constants';\r\nimport { formatCurrency } from '~/assets/js/validate';\r\nconst api = new Api();\r\nconst Bookings = ref([]);\r\nconst selectedBookingId = ref(null);\r\nconst editBookingData = ref({});\r\nconst isEditMode = ref(false);\r\nconst searchString = ref('');\r\nconst pageNumber = ref(1);\r\nconst totalPage = ref(0);\r\nconst totalCount = ref(0);\r\nconst pageSize = ref(10);\r\nconst Customer = ref([]);\r\nconst Tour = ref([]);\r\nconst customer= ref({});\r\n\r\n/**\r\n * auth\r\n */\r\ndefinePageMeta({\r\n    middleware: ['auth','admin'],\r\n});\r\n\r\n// const getBookings = async () => {\r\n//     try {\r\n//         var response = await api.get(\r\n//             `/Booking/GetAllPagination?PageSize=${pageSize.value}&PageNumber=${pageNumber.value}`,\r\n//         );\r\n//         Bookings.value = response.data.responseData.data;\r\n//         console.log(  Bookings.value)\r\n//         totalCount.value = response.data.responseData.pagination.totalCount;\r\n//         totalPage.value = response.data.responseData.pagination.totalPage;\r\n//     } catch (err) {\r\n//         console.log(err);\r\n//     }\r\n// };\r\nconst getBookings = async () => {\r\n    try {\r\n        var response = await api.get(\r\n            `/Booking`,null\r\n        );\r\n        Bookings.value = response.data.responseData;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\nconst getInfor =  async() =>\r\n{\r\n    const res = await api.get(`/Customer`, null);\r\n    Customer.value = res.data.responseData;\r\n    const resTour = await api.get(`/Tour/GetAllTour`, null);\r\n    Tour.value = resTour.data.responseData;\r\n    await getBookings();\r\n  \r\n}\r\n\r\nonMounted(async () => {\r\n    try {\r\n        await getInfor();\r\n    } catch (error) {\r\n        console.error('Error fetching initial data:', error);\r\n    }\r\n});\r\n\r\n/**\r\n * delete Booking\r\n * @param {*} id\r\n */\r\nconst deleteBooking = async (id) => {\r\n    try {\r\n        selectedBookingId.value = id;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n/**\r\n * edit Booking\r\n * @param {*} Booking\r\n */\r\nconst BookingEdit = async (Booking) => {\r\n    try {\r\n        const res = await api.get(`/Customer/${Booking.customerId}`,null);\r\n        customer.value = res.data.responseData;\r\n        editBookingData.value = {\r\n            ...Booking,\r\n            nameCustomer: customer.value.nameCustomer,\r\n            phoneNumber: customer.value.phoneNumber,\r\n            address: customer.value.address,\r\n            gender: customer.value.gender,\r\n            identityCard: customer.value.identityCard,\r\n            email: customer.value.email,\r\n            accountBank: customer.value.accountBank,\r\n            bankName: customer.value.bankName,\r\n        };\r\n        isEditMode.value = true;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nconst resetSearchForm = async () => {\r\n    try {\r\n        searchString.value = '';\r\n       await getInfor();\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n\r\n const search = async () => {\r\n    try {\r\n        if (!searchString.value) {\r\n            await getInfor(); \r\n            return;\r\n        } else {\r\n            const res = await api.get(`/Booking/SearchBooking?id=${searchString.value}`, null);\r\n            Bookings.value = [res.data.responseData];\r\n            console.log(Bookings.value);\r\n     \r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n// const nextPage = () => {\r\n//     pageNumber.value++;\r\n//     getInfor();\r\n// };\r\n// const previousPage = () => {\r\n//     pageNumber.value--;\r\n//     getInfor();\r\n// };\r\n// const setPage = (number) => {\r\n//     pageNumber.value = number;\r\n//     getInfor();\r\n// };\r\n\r\n\r\n</script>\r\n"],"names":[],"mappings":"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"}