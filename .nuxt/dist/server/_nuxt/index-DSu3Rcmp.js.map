{"version":3,"file":"index-DSu3Rcmp.js","sources":["../../../../components/Pagination.vue","../../../../pages/tourcustomer/index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <nav aria-label=\"Page navigation example\">\r\n            <div class=\"pagination\">\r\n                <button\r\n                    @click=\"props.setPage(1)\"\r\n                    :class=\"{ 'disabled-button': props.currentPage === 1 }\"\r\n                    class=\"page-link btn-arrow\"\r\n                    aria-label=\"Previous\"\r\n                >\r\n                    <div class=\"btn-svg\">\r\n                        <svg\r\n                            width=\"16\"\r\n                            height=\"16\"\r\n                            viewBox=\"0 0 16 16\"\r\n                            fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                            <path\r\n                                d=\"M11.7265 12L12.6665 11.06L9.61317 8L12.6665 4.94L11.7265 4L7.7265 8L11.7265 12Z\"\r\n                                fill=\"#333333\"\r\n                            />\r\n                            <path\r\n                                d=\"M7.33344 12L8.27344 11.06L5.2201 8L8.27344 4.94L7.33344 4L3.33344 8L7.33344 12Z\"\r\n                                fill=\"#333333\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </button>\r\n                <button\r\n                    @click=\"props.previousPage\"\r\n                    :class=\"{ 'disabled-button': props.currentPage === 1 }\"\r\n                    class=\"page-link btn-arrow\"\r\n                    aria-label=\"Previous\"\r\n                >\r\n                    <div class=\"btn-svg\">\r\n                        <svg\r\n                            width=\"5\"\r\n                            height=\"8\"\r\n                            viewBox=\"0 0 5 8\"\r\n                            fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                            <path\r\n                                d=\"M4.06 8L5 7.06L1.94667 4L5 0.94L4.06 8.21774e-08L0.0599996 4L4.06 8Z\"\r\n                                fill=\"black\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </button>\r\n                <span\r\n                    style=\"cursor: pointer\"\r\n                    :class=\"{ activePagination: props.currentPage == 1 }\"\r\n                    @click=\"props.setPage(1)\"\r\n                    class=\"page-item page-link\"\r\n                    >1\r\n                </span>\r\n                <span v-for=\"page in displayPages\" :key=\"page\">\r\n                    <span v-if=\"page === '...'\">{{ page }}</span>\r\n                    <span\r\n                        v-else\r\n                        style=\"cursor: pointer\"\r\n                        :class=\"{ activePagination: page === props.currentPage }\"\r\n                        @click=\"props.setPage(page)\"\r\n                        class=\"page-item page-link\"\r\n                    >\r\n                        {{ page }}\r\n                    </span>\r\n                </span>\r\n                <span\r\n                    v-if=\"props.totalPages > 1\"\r\n                    style=\"cursor: pointer\"\r\n                    :class=\"{ activePagination: props.currentPage === props.totalPages }\"\r\n                    @click=\"props.setPage(props.totalPages)\"\r\n                    class=\"page-item page-link\"\r\n                    >{{ props.totalPages }}\r\n                </span>\r\n                <button\r\n                    @click=\"props.nextPage\"\r\n                    :class=\"{ 'disabled-button': props.currentPage === props.totalPages }\"\r\n                    class=\"page-link btn-arrow\"\r\n                    aria-label=\"Next\"\r\n                >\r\n                    <div class=\"btn-svg\">\r\n                        <svg\r\n                            width=\"16\"\r\n                            height=\"16\"\r\n                            viewBox=\"0 0 16 16\"\r\n                            fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                            <path\r\n                                d=\"M6.94 4L6 4.94L9.05333 8L6 11.06L6.94 12L10.94 8L6.94 4Z\"\r\n                                fill=\"black\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </button>\r\n                <button\r\n                    @click=\"props.setPage(props.totalPages)\"\r\n                    :class=\"{ 'disabled-button': props.currentPage === props.totalPages }\"\r\n                    class=\"page-link btn-arrow\"\r\n                    aria-label=\"Next\"\r\n                >\r\n                    <div class=\"btn-svg\">\r\n                        <svg\r\n                            width=\"16\"\r\n                            height=\"16\"\r\n                            viewBox=\"0 0 16 16\"\r\n                            fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                            <path\r\n                                d=\"M4.2735 4L3.3335 4.94L6.38683 8L3.3335 11.06L4.2735 12L8.2735 8L4.2735 4Z\"\r\n                                fill=\"black\"\r\n                            />\r\n                            <path\r\n                                d=\"M8.66656 4L7.72656 4.94L10.7799 8L7.72656 11.06L8.66656 12L12.6666 8L8.66656 4Z\"\r\n                                fill=\"black\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </button>\r\n            </div>\r\n        </nav>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nconst props = defineProps({\r\n    currentPage: {\r\n        type: Number,\r\n        required: true,\r\n    },\r\n    totalPages: {\r\n        type: Number,\r\n        required: true,\r\n    },\r\n    nextPage: {\r\n        type: Function,\r\n        required: true,\r\n    },\r\n    previousPage: {\r\n        type: Function,\r\n        required: true,\r\n    },\r\n    setPage: {\r\n        type: Function,\r\n        required: true,\r\n    },\r\n});\r\nconst visiblePages = 1;\r\n\r\n/**\r\n * Handle pagination\r\n */\r\nconst displayPages = computed(() => {\r\n    const start = Math.max(2, props.currentPage - visiblePages);\r\n    const end = Math.min(props.totalPages - 1, props.currentPage + visiblePages);\r\n    const pages = [];\r\n    for (let i = start; i <= end; i++) {\r\n        pages.push(i);\r\n    }\r\n    if (start > 2) {\r\n        pages.unshift('...');\r\n    }\r\n    if (end < props.totalPages - 1) {\r\n        pages.push('...');\r\n    }\r\n    return pages;\r\n});\r\n</script>\r\n<style>\r\n.activePagination {\r\n    background-color: #2f80ed;\r\n    color: #fff !important;\r\n    border-color: #2f80ed;\r\n}\r\n\r\n.page-link {\r\n    color: black;\r\n    border-radius: 50%;\r\n    margin: 1px;\r\n    line-height: 20px;\r\n    &:hover {\r\n        background-color: #2f80ed;\r\n        color: #fff !important;\r\n        border-color: #2f80ed;\r\n    }\r\n}\r\n\r\n.disabled-button {\r\n    color: gray !important;\r\n    cursor: not-allowed;\r\n    pointer-events: none;\r\n}\r\n\r\n.btn-arrow {\r\n    padding: 6px;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.btn-svg {\r\n    width: 20px;\r\n    height: 20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n</style>\r\n","<template>\r\n    <HeaderHome />\r\n    <section class=\"banner_inner\" id=\"home\">\r\n        <div class=\"banner_inner_overlay\"></div>\r\n    </section>\r\n    <section class=\"packages pb-5\">\r\n        <div class=\"container py-lg-4 py-sm-4\">\r\n            <form class=\"rounded-4 bg-white searchTour\" name=\"search\" @submit.prevent=\"submitSearch\"\r\n            >\r\n                <div class=\"border-bottom border-warning pb-3\">\r\n                    <div class=\"d-flex  flex-md-row col-12 mt-3\">\r\n                        <button\r\n                            type=\"button\"\r\n                            :class=\"{\r\n                                'bg-warning btn-default rounded-2 p-3 ': isLocal === true,\r\n                                'form-control': true,\r\n                            }\"\r\n                            @click=\"isLocal = true\"\r\n                        >\r\n                            Du lịch trong nước\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            :class=\"{\r\n                                'bg-warning btn-default rounded-2  p-3 ':\r\n                                    isLocal === false,\r\n                                'form-control ms-2': true,\r\n                            }\"\r\n                            @click=\"isLocal = false\"\r\n                        >\r\n                            Du lịch nước ngoài\r\n                        </button>\r\n\r\n                        <div class=\"col-8 col-md-6 ps-md-2 mt-2 mt-md-0\">\r\n                            <Field\r\n                                name=\"name\"\r\n                                v-model=\"nameTour\"\r\n                                type=\"text\"\r\n                                class=\"form-control p-3 \"\r\n                                placeholder=\"Nhập từ khóa tour\"\r\n                            />\r\n                        </div>\r\n                        <!-- <button\r\n                            type=\"button\"\r\n                            class=\"bg-warning rounded-2 form-control mt-2 mt-md-0 ms-md-2\"\r\n                            style=\"width: 200px; height: 50px; padding: 0; font-size: 20px;\"\r\n                            @click=\"reloadTourList\" >\r\n                            <i class=\"fa-solid fa-arrows-rotate\"></i>\r\n                        </button> -->\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-flex flex-column flex-md-row\">\r\n                    <div class=\"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100\" style=\"border: 3px solid #ffc107\">\r\n                        <div class=\"ms-5\">Điểm đi</div>\r\n                        <div class=\"d-flex flex-row\">\r\n                            <i class=\"fa-solid fa-location-dot col-2 mt-2\"></i>\r\n                            <select v-model=\"placeStart\" class=\"col-10 form-select mb-2\">\r\n                                <option disabled value=\"Nơi khởi hành\">\r\n                                    <i class=\"fa-solid fa-location-dot\"></i> Nơi khởi hành\r\n                                </option>\r\n                                <option v-for=\"item in placeStartList\" :value=\"item\">\r\n                                    <i class=\"fa-solid fa-location-dot\"></i>\r\n                                    {{ item }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\" my-auto mx-2\">\r\n                        <i class=\"fa-solid fa-arrow-right-arrow-left  \"style=\"font-size: 1.5em\"></i>\r\n                    </div>\r\n                    <div class=\"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100\" style=\"border: 3px solid #ffc107\" v-if=\"isLocal\">\r\n                        <div class=\"ms-5\">Điểm đến</div>\r\n                        <div class=\"d-flex flex-row\">\r\n                            <i class=\"fa-solid fa-location-dot col-2 mt-2\"></i>\r\n                            <select v-model=\"placeEnd\" class=\"col-10 form-select mb-2\">\r\n                                <option disabled value=\"Nơi kết thúc\">\r\n                                    Nơi kết thúc\r\n                                </option>\r\n                                <option v-for=\"item in placeEndList\" :value=\"item\">\r\n                                    {{ item }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100\" style=\"border: 3px solid #ffc107\" v-else >\r\n                        <div class=\"ms-5\">Điểm đến</div>\r\n                        <div class=\"d-flex flex-row\">\r\n                            <i class=\"fa-solid fa-location-dot col-2 mt-2\"></i>\r\n                            <select v-model=\"placeEnd\" class=\"col-10 form-select mb-2\">\r\n                                <option disabled value=\"Nơi kết thúc\">\r\n                                    Nơi kết thúc\r\n                                </option>\r\n                                <option v-for=\"item in filteredCountries\" :value=\"item.id\">\r\n                                    {{ item.countryName }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        class=\"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100\"\r\n                        style=\"border: 3px solid #ffc107\"\r\n                    >\r\n                        <div class=\"ms-5\">Ngày đi</div>\r\n                        <div class=\"d-flex flex-row\">\r\n                            <i class=\"fa-solid fa-calendar mt-2 me-2\"></i>\r\n                            <input\r\n                                v-model=\"dateStart\"\r\n                                type=\"date\"\r\n                                class=\"col-10 form-control mb-2\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        class=\"col-1.5 my-4 rounded-3 ms-3 bg-warning\"\r\n                        style=\"border: 3px solid #ffc107\"\r\n                        type=\"submit\"\r\n                    >\r\n                        <div class=\"d-flex flex-row py-3 px-3\">\r\n                            <i class=\"fa-solid fa-magnifying-glass mt-2 me-2\"></i>\r\n                            <div class=\"h4\">Tìm kiếm</div>\r\n                        </div>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n            <h3 class=\"heading text-capitalize text-center mt-5\">\r\n                Tour hot\r\n                <i class=\"fa-solid fa-fire text-danger\" style=\"font-size: 1em\"></i>\r\n            </h3>\r\n            <p class=\"text mt-2 mb-5 text-center\">\r\n                Những trải nghiệm tuyệt vời trong tour sẽ không làm bạn thất vọng\r\n            </p>\r\n            <div class=\"d-flex flex-row col-6 my-3 ms-auto justify-content-end\">\r\n                <i\r\n                    class=\"fa-solid fa-arrow-down-wide-short mt-1 me-2\"\r\n                    @click=\"sortToursByPriceDescending\"\r\n                    style=\"font-size: 1.3em\"\r\n                ></i>\r\n                <i\r\n                    class=\"fa-solid fa-arrow-up-wide-short mt-1 me-2\"\r\n                    @click=\"sortToursByPriceAescending\"\r\n                    style=\"font-size: 1.3em\"\r\n                ></i>\r\n                <button\r\n                    type=\"button\"\r\n                    :class=\"{\r\n                        'bg-light btn-default rounded-2 py-2  ': isLocal2,\r\n                        'form-control col-3': true,\r\n                    }\"\r\n                    @click=\"TourIsLocal\"\r\n                >\r\n                    <h6>Tour nội địa</h6>\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    :class=\"{\r\n                        'bg-light btn-default rounded-2 ': !isLocal2,\r\n                        'form-control ms-2 col-4': true,\r\n                    }\"\r\n                    @click=\"TourIsNotLocal\"\r\n                >\r\n                    <h6>Tour nước ngoài</h6>\r\n                </button>\r\n                <!-- <button\r\n                    type=\"button\"\r\n                    class=\"bg-light btn-default rounded-2 form-control ms-2 col-1\"\r\n                    @click=\"reloadTourList\"\r\n                >\r\n                    <i class=\"fa-solid fa-arrows-rotate\"></i>\r\n                </button> -->\r\n            </div>\r\n            <div class=\"row\" id=\"displayTours\">\r\n                <div class=\"col-lg-4 col-sm-6 mb-5\" v-for=\"item in Tour\">\r\n                    <div class=\"image-tour position-relative\">\r\n                        <img\r\n                            :src=\"item.image\"\r\n                            class=\"img-fluid\"\r\n                            style=\"width: 100%; height: 100%; object-fit: cover\"\r\n                        />\r\n                    </div>\r\n                    <div class=\"package-info\" style=\"height: 350px\">\r\n                        <!-- <span\r\n                            >{{ formatDate(item.dateStart) }} - {{ item.numOfDay }} ngày\r\n                        </span> -->\r\n                        <span\r\n                            >{{ formatDate(item.dateStart) }} ->\r\n                            {{ formatDate(item.dateEnd) }} - {{ item.numOfDay }} ngày\r\n                        </span>\r\n                        <h5 class=\"mt-2\">\r\n                            <a>{{ item.nameTour }}</a>\r\n                        </h5>\r\n                        <ul class=\"listing mt-3\">\r\n                            <li v-if=\"item.discount > 0\">\r\n                                Giá :<span class=\"text-decoration-line-through ms-2\">\r\n                                    {{\r\n                                        formatCurrency(item.cost)\r\n                                    }}</span\r\n                                >\r\n                            </li>\r\n                            <li class=\"d-flex justify-content-between\">\r\n                                <span class=\"text-danger\">\r\n                                    {{\r\n                                       formatCurrency(item.priceSale)\r\n                                    }}</span\r\n                                >\r\n                                <button\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-warning\"\r\n                                    v-if=\"item.discount > 0\"\r\n                                >\r\n                                    {{ item.discount }} % Giảm\r\n                                </button>\r\n                            </li>\r\n                            <div class=\"d-flex justify-content-between mt-2\">\r\n                                <NuxtLink\r\n                                    :to=\"{\r\n                                        path: '/customerbooking',\r\n                                        query: { id: item.id },\r\n                                    }\"\r\n                                >\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        class=\"btn btn-danger btn-small\"\r\n                                    >\r\n                                        <i\r\n                                            class=\"fa-solid fa-cart-shopping text-white\"\r\n                                        ></i>\r\n                                        Đặt ngay\r\n                                    </button>\r\n                                </NuxtLink>\r\n                                <NuxtLink\r\n                                    class=\"link link-danger text-decoration-none mx-1\"\r\n                                    style=\"cursor: pointer\"\r\n                                    :to=\"{\r\n                                        path: '/tourdetail',\r\n                                        query: { id: item.id },\r\n                                    }\"\r\n                                >\r\n                                    <button type=\"button\" class=\"btn btn-outline-success\">\r\n                                        Xem chi tiết\r\n                                    </button>\r\n                                </NuxtLink>\r\n                            </div>\r\n                            <div\r\n                                class=\"d-flex flex-row justify-content-between mt-2 mt-2\"\r\n                            >\r\n                                <!-- <button\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-outline-primary\"\r\n                                    @click=\"\r\n                                        GetTourDifferent(item.nameTour, item.dateStart)\r\n                                    \"\r\n                                >\r\n                                    Ngày khác\r\n                                </button> -->\r\n                                <!-- <div class=\"pt-2\">\r\n                                    <span class=\"text-decoration-underline me-2\">\r\n                                        Số chỗ còn nhận:\r\n                                    </span>\r\n                                    {{item.slot }}\r\n                                </div> -->\r\n                                <div class=\"d-flex mt-2 justify-content-end mt-2\">\r\n                                    <span class=\"text-decoration-underline me-2\">\r\n                                        Số chỗ còn nhận:\r\n                                    </span>\r\n                                    {{ item.slot }}\r\n                                </div>\r\n                            </div>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-between\">\r\n                <div class=\"d-flex align-items-center\">\r\n                    <!-- <span class=\"me-5\">Tổng số: {{ totalCount }} Tour</span> -->\r\n                    <span>\r\n                        <Pagination\r\n                            :current-page=\"pageNumber\"\r\n                            :total-pages=\"totalPage\"\r\n                            :next-page=\"nextPage\"\r\n                            :previous-page=\"previousPage\"\r\n                            :set-page=\"setPage\"\r\n                        />\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <Footer @select-country=\"handleCountrySelect\" />\r\n</template>\r\n<script setup>\r\nimport Api from '~/service/Base/api.ts';\r\nimport { ref, onMounted } from 'vue';\r\nimport { formatDate,formatCurrency } from '~/assets/js/validate';\r\nconst api = new Api();\r\nconst Tour = ref([]);\r\nconst placeStart = ref('Nơi khởi hành');\r\nconst dateStart = ref('');\r\nconst placeEnd = ref('Nơi kết thúc');\r\nconst nameTour = ref('');\r\nconst placeStartList = ref([]);\r\nconst placeEndList = ref([]);\r\nconst Country = ref([]);\r\nconst isLocal = ref(true);\r\nconst isLocal2 = ref(true);\r\nconst pageNumber = ref(1);\r\nconst totalPage = ref(0);\r\nconst totalCount = ref(0);\r\nconst pageSize = ref(9);\r\n\r\nconst getTours = async () => {\r\n    try {\r\n        var response = await api.get(\r\n            `/Tour/GetAllPaginationBeforeStartOneDay?PageSize=${pageSize.value}&PageNumber=${pageNumber.value}`,\r\n        );\r\n        Tour.value = response.data.responseData.data;\r\n        totalCount.value = response.data.responseData.pagination.totalCount;\r\n        totalPage.value = response.data.responseData.pagination.totalPage;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n// const getTours = async () => {\r\n//     try {\r\n//         var response = await api.get(\r\n//             `/Tour/GetAllTourOndeDaybeforeStart`,null\r\n//         );\r\n//         Tour.value = response.data.responseData;\r\n//     } catch (err) {\r\n//         console.log(err);\r\n//     }\r\n// };\r\n\r\nonMounted(async () => {\r\n    try {\r\n        // Gọi API để lấy danh sách tours\r\n        await getTours();\r\n\r\n        // Lấy danh sách điểm khởi hành và điểm đến trong nước\r\n        Tour.value.forEach((tour) => {\r\n            if (!placeStartList.value.includes(tour.placeStart)) {\r\n                placeStartList.value.push(tour.placeStart);\r\n            }\r\n            if (!placeEndList.value.includes(tour.placeEnd) && tour.isLocal) {\r\n                placeEndList.value.push(tour.placeEnd);\r\n            }\r\n        });\r\n\r\n        // Gọi API để lấy danh sách các quốc gia\r\n        const getCountryResponse = await api.get(`/Country`);\r\n        Country.value = getCountryResponse.data.responseData;\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n});\r\n\r\n\r\n\r\nconst submitSearch = async () => {\r\n    const queryParams = [];\r\n\r\n    if (placeStart.value && placeStart.value !== 'Nơi khởi hành') {\r\n        queryParams.push(`placeStart=${placeStart.value}`);\r\n    }\r\n\r\n    if (placeEnd.value && placeEnd.value !== 'Nơi kết thúc') {\r\n        if (isNaN(placeEnd.value)) {\r\n            // If placeEnd is not a number, treat it as a string\r\n            queryParams.push(`placeEnd=${placeEnd.value}`);\r\n        } else {\r\n            // If placeEnd is a number, treat it as CountryId\r\n            queryParams.push(`CountryId=${placeEnd.value}`);\r\n        }\r\n    }\r\n\r\n    if (dateStart.value) {\r\n        queryParams.push(`dateStart=${dateStart.value}`);\r\n    }\r\n    if (nameTour.value) {\r\n        queryParams.push(`name=${nameTour.value}`);\r\n    }\r\n\r\n    const queryString = queryParams.join('&');\r\n    if (!queryString) {\r\n        reloadTourList();\r\n    } else {\r\n        try {\r\n            const res = await api.get(`/Tour/SearchTour?${queryString}`, null);\r\n            if (res.data.responseData.length === 0) {\r\n                alert('Không có tour nào phù hợp với tìm kiếm của bạn!');\r\n            } else {\r\n                Tour.value = res.data.responseData;\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching tours:', error);\r\n            alert('Có lỗi xảy ra khi tìm kiếm tour. Vui lòng thử lại sau.');\r\n        }\r\n    }\r\n};\r\n\r\nconst reloadTourList = async () => {\r\n    const getTour = await api.get(`/Tour/GetTourNotFinish`, null);\r\n    Tour.value = getTour.data.responseData;\r\n    placeStart.value = 'Nơi khởi hành';\r\n    placeEnd.value = 'Nơi kết thúc';\r\n    dateStart.value = '';\r\n    nameTour.value = '';\r\n};\r\n\r\nconst handleCountrySelect = async (id) => {\r\n    const res = await api.get(`Tour/GetToursByCountry?countryId=${id}`);\r\n    if(res.data.responseData.length === 0)\r\n    {\r\n        alert('Không có tour nào phù hợp với tìm kiếm của bạn!');\r\n        return;\r\n    }\r\n    Tour.value = res.data.responseData;\r\n};\r\n\r\nconst TourIsLocal = async () => {\r\n    const res = await api.get(`Tour/GetTourIsLocal`, null);\r\n    if(res.data.responseData.length === 0)\r\n    {\r\n        alert(\"Không có Tour phù hợp với tìm kiếm của bạn!\");\r\n        return;\r\n    }\r\n    Tour.value = res.data.responseData;\r\n    isLocal2.value = true;\r\n};\r\nconst TourIsNotLocal = async () => {\r\n    const res = await api.get(`Tour/GetTourNotIsLocal`, null);\r\n    if(res.data.responseData.length === 0)\r\n    {\r\n        alert(\"Không có Tour phù hợp với tìm kiếm của bạn!\");\r\n        return;\r\n    }\r\n    Tour.value = res.data.responseData;\r\n    isLocal2.value = false;\r\n};\r\n\r\n\r\nconst nextPage = () => {\r\n    pageNumber.value++;\r\n    getTours();\r\n};\r\nconst previousPage = () => {\r\n    pageNumber.value--;\r\n    getTours();\r\n};\r\nconst setPage = (number) => {\r\n    pageNumber.value = number;\r\n    getTours();\r\n};\r\n\r\n/**\r\n * Function Sort List Tour by Price Des\r\n */\r\nconst sortToursByPriceDescending = () => {\r\n    Tour.value.sort((a, b) => {\r\n        const priceA = a.priceSale ?? a.cost ?? 0;\r\n        const priceB = b.priceSale ?? b.cost ?? 0;\r\n        return priceB - priceA;\r\n    });\r\n};\r\n\r\n/**\r\n * Function Sort List Tour by Price Aes\r\n */\r\nconst sortToursByPriceAescending = () => {\r\n    Tour.value.sort((a, b) => {\r\n        const priceA = a.priceSale ?? a.cost ?? 0;\r\n        const priceB = b.priceSale ?? b.cost ?? 0;\r\n        return priceA - priceB;\r\n    });\r\n};\r\n// Lọc quốc gia tùy thuộc vào loại tour\r\nconst filteredCountries = computed(() => {\r\n      if (!isLocal.value) {\r\n        // Nếu là tour nước ngoài, loại bỏ Việt Nam khỏi danh sách\r\n        return Country.value.filter(country => country.id !== 1);\r\n      }\r\n      return Country.value;\r\n    });\r\n\r\n/**\r\n * Permission\r\n */\r\ndefinePageMeta({\r\n    layout: false,\r\n});\r\n</script>\r\n<style scoped>\r\n@import '../../assets/css/bootstrap.css';\r\n@import '../../assets/css/style.css';\r\n@import '../../assets/css/font-awesome.min.css';\r\n@import '../../assets/css/css_slider.css';\r\n@import '../../assets/vendor/mdi-font/css/material-design-iconic-font.min.css';\r\n@import '../../assets/vendor/font-awesome-4.7/css/font-awesome.min.css';\r\n@import '../../assets/vendor/select2/select2.min.css';\r\n@media (max-width: 768px) {\r\n    .searchTour {\r\n        height: 670px;\r\n        padding: 5px; /* Tăng khoảng cách bên trong form */\r\n    }\r\n\r\n    /* Dòng đầu: Các nút \"Du lịch trong nước\" và \"Du lịch nước ngoài\" */\r\n    .searchTour .d-flex {\r\n        flex-direction: column;\r\n        align-items: stretch;\r\n    }\r\n\r\n    /* Các nút \"Du lịch trong nước\" và \"Du lịch nước ngoài\" chiếm 100% chiều rộng */\r\n    .searchTour button {\r\n        width: 100%;\r\n        margin-bottom: 10px;\r\n        padding: 10px; /* Giảm padding */\r\n        font-size: 14px;\r\n    }\r\n\r\n    /* Các ô nhập liệu (input, select) chiếm toàn bộ chiều rộng */\r\n    .searchTour .form-control, .searchTour .form-select {\r\n        width: 100%;\r\n        padding: 10px;\r\n        height: 40px;  /* Đảm bảo tất cả các ô nhập liệu có chiều cao giống nhau */\r\n        font-size: 14px;  /* Đảm bảo font size đồng đều */\r\n    }\r\n\r\n    /* Các ô chọn Điểm đi, Điểm đến, Ngày đi */\r\n    .searchTour .d-flex.flex-column {\r\n        flex-direction: column;\r\n    }\r\n\r\n    .searchTour .col-12 {\r\n        margin-bottom: 15px;\r\n    }\r\n\r\n    /* Dòng chọn điểm đi/điểm đến ngắn gọn hơn trên mobile */\r\n    .searchTour .col-md-3 {\r\n        margin-bottom: 15px;\r\n        width: 100%;\r\n        padding-left: 0;\r\n    }\r\n\r\n    .searchTour .col-md-3 i {\r\n        font-size: 1.3em;\r\n    }\r\n\r\n\r\n\r\n    /* Các icon điều chỉnh sắp xếp giá trị trở nên nhỏ hơn */\r\n    .searchTour .fa-arrow-down-wide-short, .searchTour .fa-arrow-up-wide-short {\r\n        font-size: 1.2em;\r\n    }\r\n\r\n    /* Các nút phân loại tour giữ nguyên nhưng cũng chiếm full chiều rộng */\r\n    .searchTour button.bg-light {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    /* Điều chỉnh footer thêm margin ở dưới */\r\n    .searchTour .footer {\r\n        margin-top: 20px;\r\n    }\r\n    .searchTour .fa-arrow-right-arrow-left {\r\n        display: none;\r\n    }\r\n    .searchTour .col-1\\.5 {\r\n        width: 90%; /* Đặt chiều rộng nhỏ hơn */\r\n        height: 70px;\r\n        margin-bottom: 10px; /* Giảm khoảng cách dưới */\r\n    }\r\n\r\n    /* Điều chỉnh các lớp margin và padding */\r\n    .searchTour .col-1\\.5.my-4 {\r\n        margin-top: 8px; /* Giảm khoảng cách phía trên */\r\n        margin-left: 0; /* Loại bỏ margin-left để tiết kiệm không gian */\r\n    }\r\n\r\n    /* Đảm bảo nút tìm kiếm trong phần này cũng có chiều cao nhỏ hơn */\r\n    .searchTour .col-1\\.5.bg-warning {\r\n        padding: 8px; /* Giảm padding để tiết kiệm không gian */\r\n        font-size: 14px; /* Giảm cỡ chữ */\r\n    }\r\n\r\n    /* Điều chỉnh các góc bo tròn nếu cần */\r\n    .searchTour .col-1\\.5.rounded-3 {\r\n        border-radius: 5px; /* Điều chỉnh bo tròn nhỏ hơn */\r\n    }\r\n\r\n}\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA,MAAM,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;AAtBrB,UAAM,QAAQ;AA2Bd,UAAM,eAAe,SAAS,MAAM;AAChC,YAAM,QAAQ,KAAK,IAAI,GAAG,MAAM,cAAc,YAAY;AAC1D,YAAM,MAAM,KAAK,IAAI,MAAM,aAAa,GAAG,MAAM,cAAc,YAAY;AAC3E,YAAM,QAAQ,CAAA;AACd,eAAS,IAAI,OAAO,KAAK,KAAK,KAAK;AAC/B,cAAM,KAAK,CAAC;AAAA,MACf;AACD,UAAI,QAAQ,GAAG;AACX,cAAM,QAAQ,KAAK;AAAA,MACtB;AACD,UAAI,MAAM,MAAM,aAAa,GAAG;AAC5B,cAAM,KAAK,KAAK;AAAA,MACnB;AACD,aAAO;AAAA,IACX,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2HK,UAAA,MAAM,IAAI;AACV,UAAA,OAAO,IAAI,CAAA,CAAE;AACb,UAAA,aAAa,IAAI,eAAe;AAChC,UAAA,YAAY,IAAI,EAAE;AAClB,UAAA,WAAW,IAAI,cAAc;AAC7B,UAAA,WAAW,IAAI,EAAE;AACjB,UAAA,iBAAiB,IAAI,CAAA,CAAE;AACvB,UAAA,eAAe,IAAI,CAAA,CAAE;AACrB,UAAA,UAAU,IAAI,CAAA,CAAE;AAChB,UAAA,UAAU,IAAI,IAAI;AAClB,UAAA,WAAW,IAAI,IAAI;AACnB,UAAA,aAAa,IAAI,CAAC;AAClB,UAAA,YAAY,IAAI,CAAC;AACjB,UAAA,aAAa,IAAI,CAAC;AAClB,UAAA,WAAW,IAAI,CAAC;AAEtB,UAAM,WAAW,YAAY;AACrB,UAAA;AACI,YAAA,WAAW,MAAM,IAAI;AAAA,UACrB,oDAAoD,SAAS,KAAK,eAAe,WAAW,KAAK;AAAA,QAAA;AAEhG,aAAA,QAAQ,SAAS,KAAK,aAAa;AACxC,mBAAW,QAAQ,SAAS,KAAK,aAAa,WAAW;AACzD,kBAAU,QAAQ,SAAS,KAAK,aAAa,WAAW;AAAA,eACnD,KAAK;AACV,gBAAQ,IAAI,GAAG;AAAA,MACnB;AAAA,IAAA;AAyFE,UAAA,sBAAsB,OAAO,OAAO;AACtC,YAAM,MAAM,MAAM,IAAI,IAAI,oCAAoC,EAAE,EAAE;AAClE,UAAG,IAAI,KAAK,aAAa,WAAW,GACpC;AACI,cAAM,iDAAiD;AACvD;AAAA,MACJ;AACK,WAAA,QAAQ,IAAI,KAAK;AAAA,IAAA;AAyB1B,UAAM,WAAW,MAAM;AACR,iBAAA;AACF;IAAA;AAEb,UAAM,eAAe,MAAM;AACZ,iBAAA;AACF;IAAA;AAEP,UAAA,UAAU,CAAC,WAAW;AACxB,iBAAW,QAAQ;AACV;IAAA;AAyBP,UAAA,oBAAoB,SAAS,MAAM;AAC/B,UAAA,CAAC,QAAQ,OAAO;AAElB,eAAO,QAAQ,MAAM,OAAO,CAAW,YAAA,QAAQ,OAAO,CAAC;AAAA,MACzD;AACA,aAAO,QAAQ;AAAA,IAAA,CAChB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}