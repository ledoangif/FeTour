import{_ as st,a as ot}from"./Dx-iEiGG.js";import{P as F,o as c,c as r,a as t,a1 as h,x as y,y as P,t as u,B as x,v as M,_ as at,r as d,I as nt,b,G as lt,z as $,H as B,d as w,A as it,w as q,q as ct,p as rt,e as dt}from"./-qx6OsVB.js";import{_ as ut}from"./DRJbnSa7.js";import{A as pt}from"./Q_m3z1ei.js";import{a as z,f as E}from"./DOQsIVge.js";const ht={"aria-label":"Page navigation example"},_t={class:"pagination"},mt=t("div",{class:"btn-svg"},[t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M11.7265 12L12.6665 11.06L9.61317 8L12.6665 4.94L11.7265 4L7.7265 8L11.7265 12Z",fill:"#333333"}),t("path",{d:"M7.33344 12L8.27344 11.06L5.2201 8L8.27344 4.94L7.33344 4L3.33344 8L7.33344 12Z",fill:"#333333"})])],-1),vt=[mt],gt=t("div",{class:"btn-svg"},[t("svg",{width:"5",height:"8",viewBox:"0 0 5 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M4.06 8L5 7.06L1.94667 4L5 0.94L4.06 8.21774e-08L0.0599996 4L4.06 8Z",fill:"black"})])],-1),ft=[gt],bt={key:0},yt=["onClick"],xt=t("div",{class:"btn-svg"},[t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6.94 4L6 4.94L9.05333 8L6 11.06L6.94 12L10.94 8L6.94 4Z",fill:"black"})])],-1),wt=[xt],kt=t("div",{class:"btn-svg"},[t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M4.2735 4L3.3335 4.94L6.38683 8L3.3335 11.06L4.2735 12L8.2735 8L4.2735 4Z",fill:"black"}),t("path",{d:"M8.66656 4L7.72656 4.94L10.7799 8L7.72656 11.06L8.66656 12L12.6666 8L8.66656 4Z",fill:"black"})])],-1),Pt=[kt],j=1,Lt={__name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},nextPage:{type:Function,required:!0},previousPage:{type:Function,required:!0},setPage:{type:Function,required:!0}},setup(g){const e=g,p=F(()=>{const _=Math.max(2,e.currentPage-j),i=Math.min(e.totalPages-1,e.currentPage+j),n=[];for(let m=_;m<=i;m++)n.push(m);return _>2&&n.unshift("..."),i<e.totalPages-1&&n.push("..."),n});return(_,i)=>(c(),r("div",null,[t("nav",ht,[t("div",_t,[t("button",{onClick:i[0]||(i[0]=n=>e.setPage(1)),class:h([{"disabled-button":e.currentPage===1},"page-link btn-arrow"]),"aria-label":"Previous"},vt,2),t("button",{onClick:i[1]||(i[1]=(...n)=>e.previousPage&&e.previousPage(...n)),class:h([{"disabled-button":e.currentPage===1},"page-link btn-arrow"]),"aria-label":"Previous"},ft,2),t("span",{style:{cursor:"pointer"},class:h([{activePagination:e.currentPage==1},"page-item page-link"]),onClick:i[2]||(i[2]=n=>e.setPage(1))},"1 ",2),(c(!0),r(y,null,P(x(p),n=>(c(),r("span",{key:n},[n==="..."?(c(),r("span",bt,u(n),1)):(c(),r("span",{key:1,style:{cursor:"pointer"},class:h([{activePagination:n===e.currentPage},"page-item page-link"]),onClick:m=>e.setPage(n)},u(n),11,yt))]))),128)),e.totalPages>1?(c(),r("span",{key:0,style:{cursor:"pointer"},class:h([{activePagination:e.currentPage===e.totalPages},"page-item page-link"]),onClick:i[3]||(i[3]=n=>e.setPage(e.totalPages))},u(e.totalPages),3)):M("",!0),t("button",{onClick:i[4]||(i[4]=(...n)=>e.nextPage&&e.nextPage(...n)),class:h([{"disabled-button":e.currentPage===e.totalPages},"page-link btn-arrow"]),"aria-label":"Next"},wt,2),t("button",{onClick:i[5]||(i[5]=n=>e.setPage(e.totalPages)),class:h([{"disabled-button":e.currentPage===e.totalPages},"page-link btn-arrow"]),"aria-label":"Next"},Pt,2)])])]))}},Nt=Lt,l=g=>(rt("data-v-18791b4a"),g=g(),dt(),g),Tt=l(()=>t("section",{class:"banner_inner",id:"home"},[t("div",{class:"banner_inner_overlay"})],-1)),$t={class:"packages pb-5"},Ct={class:"container py-lg-4 py-sm-4"},St={class:"border-bottom border-warning pb-3"},Dt={class:"d-flex flex-md-row col-12 mt-3"},Bt={class:"col-8 col-md-6 ps-md-2 mt-2 mt-md-0"},Mt={class:"d-flex flex-column flex-md-row"},Vt={class:"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100",style:{border:"3px solid #ffc107"}},It=l(()=>t("div",{class:"ms-5"},"Điểm đi",-1)),qt={class:"d-flex flex-row"},zt=l(()=>t("i",{class:"fa-solid fa-location-dot col-2 mt-2"},null,-1)),Et=l(()=>t("option",{disabled:"",value:"Nơi khởi hành"},[t("i",{class:"fa-solid fa-location-dot"}),w(" Nơi khởi hành ")],-1)),jt=["value"],Ft=l(()=>t("i",{class:"fa-solid fa-location-dot"},null,-1)),Gt=l(()=>t("div",{class:"my-auto mx-2"},[t("i",{class:"fa-solid fa-arrow-right-arrow-left",style:{"font-size":"1.5em"}})],-1)),At={key:0,class:"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100",style:{border:"3px solid #ffc107"}},Zt=l(()=>t("div",{class:"ms-5"},"Điểm đến",-1)),Ut={class:"d-flex flex-row"},Kt=l(()=>t("i",{class:"fa-solid fa-location-dot col-2 mt-2"},null,-1)),Ht=l(()=>t("option",{disabled:"",value:"Nơi kết thúc"}," Nơi kết thúc ",-1)),Ot=["value"],Rt={key:1,class:"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100",style:{border:"3px solid #ffc107"}},Xt=l(()=>t("div",{class:"ms-5"},"Điểm đến",-1)),Jt={class:"d-flex flex-row"},Qt=l(()=>t("i",{class:"fa-solid fa-location-dot col-2 mt-2"},null,-1)),Wt=l(()=>t("option",{disabled:"",value:"Nơi kết thúc"}," Nơi kết thúc ",-1)),Yt=["value"],te={class:"col-12 col-md-3 ms-0 ms-md-3 my-4 rounded-3 w-100",style:{border:"3px solid #ffc107"}},ee=l(()=>t("div",{class:"ms-5"},"Ngày đi",-1)),se={class:"d-flex flex-row"},oe=l(()=>t("i",{class:"fa-solid fa-calendar mt-2 me-2"},null,-1)),ae=l(()=>t("button",{class:"col-1.5 my-4 rounded-3 ms-3 bg-warning",style:{border:"3px solid #ffc107"},type:"submit"},[t("div",{class:"d-flex flex-row py-3 px-3"},[t("i",{class:"fa-solid fa-magnifying-glass mt-2 me-2"}),t("div",{class:"h4"},"Tìm kiếm")])],-1)),ne=l(()=>t("h3",{class:"heading text-capitalize text-center mt-5"},[w(" Tour hot "),t("i",{class:"fa-solid fa-fire text-danger",style:{"font-size":"1em"}})],-1)),le=l(()=>t("p",{class:"text mt-2 mb-5 text-center"}," Những trải nghiệm tuyệt vời trong tour sẽ không làm bạn thất vọng ",-1)),ie={class:"d-flex flex-row col-6 my-3 ms-auto justify-content-end"},ce=l(()=>t("h6",null,"Tour nội địa",-1)),re=[ce],de=l(()=>t("h6",null,"Tour nước ngoài",-1)),ue=[de],pe={class:"row",id:"displayTours"},he={class:"col-lg-4 col-sm-6 mb-5"},_e={class:"image-tour position-relative"},me=["src"],ve={class:"package-info",style:{height:"350px"}},ge={class:"mt-2"},fe={class:"listing mt-3"},be={key:0},ye={class:"text-decoration-line-through ms-2"},xe={class:"d-flex justify-content-between"},we={class:"text-danger"},ke={key:0,type:"button",class:"btn btn-warning"},Pe={class:"d-flex justify-content-between mt-2"},Le=l(()=>t("button",{type:"button",class:"btn btn-danger btn-small"},[t("i",{class:"fa-solid fa-cart-shopping text-white"}),w(" Đặt ngay ")],-1)),Ne=l(()=>t("button",{type:"button",class:"btn btn-outline-success"}," Xem chi tiết ",-1)),Te={class:"d-flex flex-row justify-content-between mt-2 mt-2"},$e={class:"d-flex mt-2 justify-content-end mt-2"},Ce=l(()=>t("span",{class:"text-decoration-underline me-2"}," Số chỗ còn nhận: ",-1)),Se={class:"d-flex justify-content-between"},De={class:"d-flex align-items-center"},Be={__name:"index",setup(g){const e=new pt,p=d([]),_=d("Nơi khởi hành"),i=d(""),n=d("Nơi kết thúc"),m=d(""),C=d([]),S=d([]),D=d([]),f=d(!0),L=d(!0),k=d(1),V=d(0),G=d(0),A=d(9),N=async()=>{try{var s=await e.get(`/Tour/GetAllPaginationBeforeStartOneDay?PageSize=${A.value}&PageNumber=${k.value}`);p.value=s.data.responseData.data,G.value=s.data.responseData.pagination.totalCount,V.value=s.data.responseData.pagination.totalPage}catch(o){console.log(o)}};nt(async()=>{try{await N(),p.value.forEach(o=>{C.value.includes(o.placeStart)||C.value.push(o.placeStart),!S.value.includes(o.placeEnd)&&o.isLocal&&S.value.push(o.placeEnd)});const s=await e.get("/Country");D.value=s.data.responseData}catch(s){console.log(s)}});const Z=async()=>{const s=[];_.value&&_.value!=="Nơi khởi hành"&&s.push(`placeStart=${_.value}`),n.value&&n.value!=="Nơi kết thúc"&&(isNaN(n.value)?s.push(`placeEnd=${n.value}`):s.push(`CountryId=${n.value}`)),i.value&&s.push(`dateStart=${i.value}`),m.value&&s.push(`name=${m.value}`);const o=s.join("&");if(!o)U();else try{const v=await e.get(`/Tour/SearchTour?${o}`,null);v.data.responseData.length===0?alert("Không có tour nào phù hợp với tìm kiếm của bạn!"):p.value=v.data.responseData}catch(v){console.error("Error fetching tours:",v),alert("Có lỗi xảy ra khi tìm kiếm tour. Vui lòng thử lại sau.")}},U=async()=>{const s=await e.get("/Tour/GetTourNotFinish",null);p.value=s.data.responseData,_.value="Nơi khởi hành",n.value="Nơi kết thúc",i.value="",m.value=""},K=async s=>{const o=await e.get(`Tour/GetToursByCountry?countryId=${s}`);if(o.data.responseData.length===0){alert("Không có tour nào phù hợp với tìm kiếm của bạn!");return}p.value=o.data.responseData},H=async()=>{const s=await e.get("Tour/GetTourIsLocal",null);if(s.data.responseData.length===0){alert("Không có Tour phù hợp với tìm kiếm của bạn!");return}p.value=s.data.responseData,L.value=!0},O=async()=>{const s=await e.get("Tour/GetTourNotIsLocal",null);if(s.data.responseData.length===0){alert("Không có Tour phù hợp với tìm kiếm của bạn!");return}p.value=s.data.responseData,L.value=!1},R=()=>{k.value++,N()},X=()=>{k.value--,N()},J=s=>{k.value=s,N()},Q=()=>{p.value.sort((s,o)=>{const v=s.priceSale??s.cost??0;return(o.priceSale??o.cost??0)-v})},W=()=>{p.value.sort((s,o)=>{const v=s.priceSale??s.cost??0,T=o.priceSale??o.cost??0;return v-T})},Y=F(()=>f.value?D.value:D.value.filter(s=>s.id!==1));return(s,o)=>{const v=st,T=ct,I=ut,tt=Nt,et=ot;return c(),r(y,null,[b(v),Tt,t("section",$t,[t("div",Ct,[t("form",{class:"rounded-4 bg-white searchTour",name:"search",onSubmit:lt(Z,["prevent"])},[t("div",St,[t("div",Dt,[t("button",{type:"button",class:h({"bg-warning btn-default rounded-2 p-3 ":f.value===!0,"form-control":!0}),onClick:o[0]||(o[0]=a=>f.value=!0)}," Du lịch trong nước ",2),t("button",{type:"button",class:h({"bg-warning btn-default rounded-2  p-3 ":f.value===!1,"form-control ms-2":!0}),onClick:o[1]||(o[1]=a=>f.value=!1)}," Du lịch nước ngoài ",2),t("div",Bt,[b(T,{name:"name",modelValue:m.value,"onUpdate:modelValue":o[2]||(o[2]=a=>m.value=a),type:"text",class:"form-control p-3",placeholder:"Nhập từ khóa tour"},null,8,["modelValue"])])])]),t("div",Mt,[t("div",Vt,[It,t("div",qt,[zt,$(t("select",{"onUpdate:modelValue":o[3]||(o[3]=a=>_.value=a),class:"col-10 form-select mb-2"},[Et,(c(!0),r(y,null,P(C.value,a=>(c(),r("option",{value:a},[Ft,w(" "+u(a),1)],8,jt))),256))],512),[[B,_.value]])])]),Gt,f.value?(c(),r("div",At,[Zt,t("div",Ut,[Kt,$(t("select",{"onUpdate:modelValue":o[4]||(o[4]=a=>n.value=a),class:"col-10 form-select mb-2"},[Ht,(c(!0),r(y,null,P(S.value,a=>(c(),r("option",{value:a},u(a),9,Ot))),256))],512),[[B,n.value]])])])):(c(),r("div",Rt,[Xt,t("div",Jt,[Qt,$(t("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>n.value=a),class:"col-10 form-select mb-2"},[Wt,(c(!0),r(y,null,P(x(Y),a=>(c(),r("option",{value:a.id},u(a.countryName),9,Yt))),256))],512),[[B,n.value]])])])),t("div",te,[ee,t("div",se,[oe,$(t("input",{"onUpdate:modelValue":o[6]||(o[6]=a=>i.value=a),type:"date",class:"col-10 form-control mb-2"},null,512),[[it,i.value]])])]),ae])],32),ne,le,t("div",ie,[t("i",{class:"fa-solid fa-arrow-down-wide-short mt-1 me-2",onClick:Q,style:{"font-size":"1.3em"}}),t("i",{class:"fa-solid fa-arrow-up-wide-short mt-1 me-2",onClick:W,style:{"font-size":"1.3em"}}),t("button",{type:"button",class:h({"bg-light btn-default rounded-2 py-2  ":L.value,"form-control col-3":!0}),onClick:H},re,2),t("button",{type:"button",class:h({"bg-light btn-default rounded-2 ":!L.value,"form-control ms-2 col-4":!0}),onClick:O},ue,2)]),t("div",pe,[(c(!0),r(y,null,P(p.value,a=>(c(),r("div",he,[t("div",_e,[t("img",{src:a.image,class:"img-fluid",style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,me)]),t("div",ve,[t("span",null,u(x(z)(a.dateStart))+" -> "+u(x(z)(a.dateEnd))+" - "+u(a.numOfDay)+" ngày ",1),t("h5",ge,[t("a",null,u(a.nameTour),1)]),t("ul",fe,[a.discount>0?(c(),r("li",be,[w(" Giá :"),t("span",ye,u(x(E)(a.cost)),1)])):M("",!0),t("li",xe,[t("span",we,u(x(E)(a.priceSale)),1),a.discount>0?(c(),r("button",ke,u(a.discount)+" % Giảm ",1)):M("",!0)]),t("div",Pe,[b(I,{to:{path:"/customerbooking",query:{id:a.id}}},{default:q(()=>[Le]),_:2},1032,["to"]),b(I,{class:"link link-danger text-decoration-none mx-1",style:{cursor:"pointer"},to:{path:"/tourdetail",query:{id:a.id}}},{default:q(()=>[Ne]),_:2},1032,["to"])]),t("div",Te,[t("div",$e,[Ce,w(" "+u(a.slot),1)])])])])]))),256))]),t("div",Se,[t("div",De,[t("span",null,[b(tt,{"current-page":k.value,"total-pages":V.value,"next-page":R,"previous-page":X,"set-page":J},null,8,["current-page","total-pages"])])])])])]),b(et,{onSelectCountry:K})],64)}}},Ee=at(Be,[["__scopeId","data-v-18791b4a"]]);export{Ee as default};
